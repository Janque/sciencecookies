{"version":3,"sources":["js/profile.js"],"names":["fav","liked","points","rank","favn","favl","likedn","likedl","publicID","visible","vmail","vfl","rNews","lvisible","lvemail","lvfl","lrNews","gotFL","prefChanges","fileForUp","resetFrm","document","getElementById","value","src","innerHTML","classList","add","remove","setPrefBtns","disabled","setAttribute","shwPrfl","photoURL","email","displayName","shwFav","favStr","forEach","itm","idx","shwLike","likedStr","shwPref","checked","vemail","shwCrds","t","db","collection","doc","uid","get","then","data","shwCrds2","catch","err","console","log","window","loaded","firebase","auth","onAuthStateChanged","user","urlSrch","$","modal","addEventListener","event","preventDefault","currentUser","updateProfile","update","name","pic","newNk","newsRef","emails","firestore","FieldValue","arrayUnion","arrayRemove","alertTop","uptPP","file","ref","storage","put","on","snap","progPer","bytesTransferred","totalBytes","style","getDownloadURL","url","replace","e","prevImg","read","target","files","FileReader","readAsDataURL","onload","e2","result","onclick"],"mappings":"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","file":"profile.2aa8bc9f.js","sourceRoot":"../src","sourcesContent":["//Global\nvar fav, liked, points, rank, gotFL = false;\nvar favn, favl, likedn, likedl;\nvar publicID;\nvar visible, vmail, vfl, rNews;\nvar lvisible, lvemail, lvfl, lrNews, prefChanges = false;\nvar fileForUp = null;\n\nwindow.loaded = function loaded() {\n    //Check auth\n    firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n            document.getElementById('picUsr').setAttribute('onerror', \"this.src='https://via.placeholder.com/20.webp'\");\n            document.getElementById('picUsr').src = photoURL;\n            shwCrds(urlSrch.get('tab'));\n        } else {\n            $('#mdlRgstr').modal('show');\n        }\n    });\n    function send() {\n        displayName = document.getElementById('inNewNck').value;\n        firebase.auth().currentUser.updateProfile({\n            displayName: displayName,\n        }).then(function () {\n            db.collection('usersPublic').doc(publicID).update({\n                name: displayName,\n                pic: photoURL,\n                email: email,\n                favn: favn,\n                favl: favl,\n                likedn: likedn,\n                likedl: likedl,\n                points: points,\n                rank: rank,\n                visible: document.getElementById('inPubPrfl').checked,\n                vemail: document.getElementById('inPubEmail').checked,\n                vfl: document.getElementById('inPubFL').checked,\n            }).then(() => {\n                resetFrm();\n                document.getElementById('disName').innerHTML = newNk;\n            }).catch(err => { console.log(err) });\n        }).catch(function (err) { console.log(err) });\n    }\n    document.getElementById(\"frmChngNk\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        send();\n        $('#mdlCngNck').modal('hide');\n    });\n    function uptPref() {\n        db.collection('users').doc(uid).update({\n            visible: document.getElementById('inPubPrfl').checked,\n            vemail: document.getElementById('inPubEmail').checked,\n            vfl: document.getElementById('inPubFL').checked,\n            rNews: document.getElementById('inNews').checked,\n        }).then(() => {\n            if (rNews != lrNews) {\n                let newsRef = db.collection(\"newsletters\").doc(\"base\");\n                if (lrNews) {\n                    newsRef.update({\n                        emails: firebase.firestore.FieldValue.arrayUnion(email)\n                    });\n                } else {\n                    newsRef.update({\n                        emails: firebase.firestore.FieldValue.arrayRemove(email)\n                    });\n                }\n            }\n            visible = lvisible;\n            vemail = lvemail;\n            vfl = lvfl;\n            rNews = lrNews;\n            db.collection('usersPublic').doc(publicID).update({\n                name: displayName,\n                pic: photoURL,\n                email: email,\n                favn: favn,\n                favl: favl,\n                likedn: likedn,\n                likedl: likedl,\n                points: points,\n                rank: rank,\n                visible: document.getElementById('inPubPrfl').checked,\n                vemail: document.getElementById('inPubEmail').checked,\n                vfl: document.getElementById('inPubFL').checked,\n            }).then(() => { }).catch(err => { console.log(err) });\n        }).catch(err => { console.log(err) });\n    }\n    document.getElementById(\"frmPref\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        document.getElementById('btnCanPref').setAttribute('disabled', 'true');\n        document.getElementById('btnCnfPref').setAttribute('disabled', 'true');\n        uptPref();\n        alertTop(\"Se han guardado los cambios\", 1);\n    });\n    function uptPP(file) {\n        let ref = storage.ref('ppics/' + publicID + '/pp');\n        let task = ref.put(file);\n        task.on('state_changed',\n            function progress(snap) {\n                let progPer = (snap.bytesTransferred / snap.totalBytes) * 100;\n                document.getElementById('prBarDis').style['width'] = progPer + '%';\n            },\n            function error(err) {\n                resetFrm();\n                $('#mdlCngPP').modal('hide');\n                alertTop(\"<strong>!Ha ocurrido un error! </strong>Revisa que tu archivo cumpla los límites y sea una imagen e intenta de nuevo.\", 2);\n            },\n            function complete() {\n                document.getElementById('picUsr').src = document.getElementById(\"preVIn\").src;\n                document.getElementById('disPP').src = document.getElementById(\"preVIn\").src;\n                resetFrm();\n                $('#mdlCngPP').modal('hide');\n                ref.getDownloadURL().then(url => {\n                    url = url.replace('pp?', 'pp_200x200?');\n                    firebase.auth().currentUser.updateProfile({\n                        photoURL: url,\n                    }).then(() => {\n                        db.collection('usersPublic').doc(publicID).update({\n                            pic: url,\n                            email: email,\n                            favn: favn,\n                            favl: favl,\n                            likedn: likedn,\n                            likedl: likedl,\n                            points: points,\n                            rank: rank,\n                        }).then(() => { }).catch(err => { console.log(err) });\n                    }).catch(err => { console.log(err) });\n                }).catch(err => { console.log(err) });\n            }\n        );\n    }\n    document.getElementById(\"frmChngPP\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        document.getElementById(\"prBar\").classList.remove('d-none');\n        document.getElementById(\"frmChngPP\").classList.add('d-none');\n        document.getElementById(\"btnCnfNwPP\").classList.add('disabled');\n        document.getElementById(\"btnCanNwPP\").classList.add('disabled');\n        uptPP(fileForUp);\n    });\n    document.getElementById('inNwPP').addEventListener('change', function (e) {\n        fileForUp = e.target.files[0];\n        function prevImg() {\n            var read = new FileReader();\n            read.readAsDataURL(fileForUp);\n            read.onload = function (e2) {\n                document.getElementById(\"preVIn\").src = e2.target.result;\n            };\n        };\n        document.getElementById('inNwPPL').innerHTML = fileForUp.name;\n        prevImg(fileForUp);\n    });\n}\nfunction resetFrm() {\n    document.getElementById('inNewNck').value = '';\n    document.getElementById('inNwPP').value = '';\n    document.getElementById(\"preVIn\").src = '';\n    document.getElementById('inNwPPL').innerHTML = 'Elige una imagen';\n    document.getElementById(\"prBar\").classList.add('d-none');\n    document.getElementById(\"frmChngPP\").classList.remove('d-none');\n    document.getElementById(\"btnCnfNwPP\").classList.remove('disabled');\n    document.getElementById(\"btnCanNwPP\").classList.remove('disabled');\n}\n\nfunction setPrefBtns() {\n    if (prefChanges) {\n        document.getElementById('btnCanPref').disabled = false;\n        document.getElementById('btnCnfPref').disabled = false;\n    } else {\n        document.getElementById('btnCanPref').setAttribute('disabled', 'true');\n        document.getElementById('btnCnfPref').setAttribute('disabled', 'true');\n    }\n}\ndocument.getElementById('inPubPrfl').onclick = function () {\n    if (lvisible) {\n        document.getElementById('inPubEmail').setAttribute('disabled', 'true');\n        document.getElementById('inPubFL').setAttribute('disabled', 'true');\n        document.getElementById('inPubEmail').checked = false;\n        document.getElementById('inPubFL').checked = false;\n    } else {\n        document.getElementById('inPubEmail').disabled = false;\n        document.getElementById('inPubFL').disabled = false;\n        document.getElementById('inPubEmail').checked = lvemail;\n        document.getElementById('inPubFL').checked = lvfl;\n    }\n    lvisible = !lvisible;\n    prefChanges = !(document.getElementById('inPubPrfl').checked == visible && document.getElementById('inPubEmail').checked == vemail && document.getElementById('inPubFL').checked == vfl && document.getElementById('inNews').checked == rNews);\n    setPrefBtns();\n};\ndocument.getElementById('inPubEmail').onclick = function () {\n    lvemail = !lvemail;\n    prefChanges = !(document.getElementById('inPubPrfl').checked == visible && document.getElementById('inPubEmail').checked == vemail && document.getElementById('inPubFL').checked == vfl && document.getElementById('inNews').checked == rNews);\n    setPrefBtns();\n};\ndocument.getElementById('inPubFL').onclick = function () {\n    lvfl = !lvfl;\n    prefChanges = !(document.getElementById('inPubPrfl').checked == visible && document.getElementById('inPubEmail').checked == vemail && document.getElementById('inPubFL').checked == vfl && document.getElementById('inNews').checked == rNews);\n    setPrefBtns();\n};\ndocument.getElementById('inNews').onclick = function () {\n    lrNews = !lrNews;\n    prefChanges = !(document.getElementById('inPubPrfl').checked == visible && document.getElementById('inPubEmail').checked == vemail && document.getElementById('inPubFL').checked == vfl && document.getElementById('inNews').checked == rNews);\n    setPrefBtns();\n};\n\nfunction shwPrfl() {\n    document.getElementById('navBtnPrfl').classList.add('active');\n    document.getElementById('disPP').setAttribute('onerror', \"this.src='https://via.placeholder.com/20.webp'\");\n    document.getElementById('disPP').src = photoURL;\n    document.getElementById('disMail').innerHTML = email;\n    document.getElementById('disName').innerHTML = displayName;\n    document.getElementById('crdPrfl').classList.remove('d-none');\n}\nfunction shwFav() {\n    document.getElementById('navBtnFav').classList.add('active');\n    let favStr = '';\n    favn.forEach(function (itm, idx) {\n        favStr = favStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + favl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntFav').innerHTML = favStr;\n    document.getElementById('crdFav').classList.remove('d-none');\n}\nfunction shwLike() {\n    document.getElementById('navBtnLike').classList.add('active');\n    let likedStr = '';\n    likedn.forEach(function (itm, idx) {\n        likedStr = likedStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + likedl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntLike').innerHTML = likedStr;\n    document.getElementById('crdLike').classList.remove('d-none');\n}\nfunction shwPref() {\n    document.getElementById('navBtnPref').classList.add('active');\n    document.getElementById('inPubPrfl').checked = visible;\n    if (visible) {\n        document.getElementById('inPubEmail').disabled = false;\n        document.getElementById('inPubFL').disabled = false;\n        document.getElementById('inPubEmail').checked = vemail;\n        document.getElementById('inPubFL').checked = vfl;\n    } else {\n        document.getElementById('inPubEmail').setAttribute('disabled', 'true');\n        document.getElementById('inPubFL').setAttribute('disabled', 'true');\n        document.getElementById('inPubEmail').checked = false;\n        document.getElementById('inPubFL').checked = false;\n    }\n    document.getElementById('inNews').checked = rNews;\n    lvisible = visible;\n    lvemail = vemail;\n    lvfl = vfl;\n    lrNews = rNews;\n    prefChanges = false;\n    setPrefBtns();\n    document.getElementById('crdPref').classList.remove('d-none');\n}\nfunction shwCrds(t) {\n    if (gotFL == false) {\n        db.collection('users').doc(uid).get().then(function (doc) {\n            fav = doc.data().fav;\n            liked = doc.data().liked;\n            favn = doc.data().favn;\n            favl = doc.data().favl;\n            likedn = doc.data().likedn;\n            likedl = doc.data().likedl;\n            points = doc.data().points;\n            rank = doc.data().rank;\n            publicID = doc.data().publicID;\n            visible = doc.data().visible;\n            vemail = doc.data().vemail;\n            vfl = doc.data().vfl;\n            lvisible = doc.data().visible;\n            lvemail = doc.data().vmail;\n            lvfl = doc.data().vfl;\n            rNews = doc.data().rNews;\n            lrNews = doc.data().rNews;\n            shwCrds2(t);\n        }).catch(function (err) { console.log(err) });\n        gotFL = true;\n    } else {\n        shwCrds2(t);\n    }\n}\nfunction shwCrds2(t) {\n    if (t == 'pref') {\n        document.getElementById('crdFav').classList.add('d-none');\n        document.getElementById('navBtnFav').classList.remove('active');\n        document.getElementById('crdLike').classList.add('d-none');\n        document.getElementById('navBtnLike').classList.remove('active');\n        document.getElementById('crdPrfl').classList.add('d-none');\n        document.getElementById('navBtnPrfl').classList.remove('active');\n        shwPref();\n    } else {\n        if (t == 'favs') {\n            document.getElementById('crdPrfl').classList.add('d-none');\n            document.getElementById('navBtnPrfl').classList.remove('active');\n            document.getElementById('crdLike').classList.add('d-none');\n            document.getElementById('navBtnLike').classList.remove('active');\n            document.getElementById('crdPref').classList.add('d-none');\n            document.getElementById('navBtnPref').classList.remove('active');\n            shwFav();\n        } else {\n            if (t == 'likes') {\n                document.getElementById('crdFav').classList.add('d-none');\n                document.getElementById('navBtnFav').classList.remove('active');\n                document.getElementById('crdPrfl').classList.add('d-none');\n                document.getElementById('navBtnPrfl').classList.remove('active');\n                document.getElementById('crdPref').classList.add('d-none');\n                document.getElementById('navBtnPref').classList.remove('active');\n                shwLike();\n            } else {\n                /*if(t=='notif'){\n                    @#NOTIFICACIONES\n                }*/\n                document.getElementById('crdFav').classList.add('d-none');\n                document.getElementById('navBtnFav').classList.remove('active');\n                document.getElementById('crdLike').classList.add('d-none');\n                document.getElementById('navBtnLike').classList.remove('active');\n                document.getElementById('crdPref').classList.add('d-none');\n                document.getElementById('navBtnPref').classList.remove('active');\n                shwPrfl();\n                //}\n            }\n        }\n    }\n}"]}