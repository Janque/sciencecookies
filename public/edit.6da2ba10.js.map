{"version":3,"sources":["js/edit.js","../../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["store","firebase","storage","rtDb","database","docDat","docId","docRef","toDel","toAdd","lastSave","Date","now","saved","addFrom","toDelMed","toAddMed","newMedia","newMedSrc","keywords","translateSimple","text","from","target","translate","app","functions","httpsCallable","res","data","window","loaded","allCats","forEach","cat","i","fat","document","createElement","classes","div","inp","id","value","setAttribute","onclick","checked","fixedCats","push","splice","indexOf","appendChild","lab","innerText","textCats","getElementById","cookiesFSRef","doc","urlSrch","get","onSnapshot","file","description","includes","render","fillMed","public","classList","remove","add","revised","lang","uid","innerHTML","href","url","err","console","log","fillTrans","translateFrm","addEventListener","event","preventDefault","setprog","showEl","runprog","transRes","$","modal","hideEl","alertTop","fileFrm","where","then","snap","empty","trim","normSave","catch","langs","l","opt","ori","db","collection","desc","toLowerCase","replaceAll","addMed","atempt","ref","name","getDownloadURL","code","put","on","progress","bytesTransferred","totalBytes","error","complete","medUrl","media","medFile","addExtMed","savedInterval","saveDoc","d","published","toDate","month","getFullYear","toString","getMonth","galletasText","fillKW","promises","syncUpt","authors","slice","java","notify","beenPublic","dledit","created","ledit","pop","likes","favs","translations","idx","catTranslations","update","Promise","all","clearInterval","setInterval","minutes","Math","floor","plusSect","type","newSect","html","title","vidUrl","ratio","alt","caption","hasCapt","width","cont","bar","n","style","b","e","removeMedia","medFileName","delete","itm","col0","card0","img0","src","over0","paddingLeft","paddingRight","btns0","medBtnDel","click","picUrl","setTimeout","tooltip","medBtnCopy","tltipTxt","open","focus","onmouseout","medBtnUnstar","medBtnStar","col1","btnA1","card1","img1","publishDate","firestore","Timestamp","item","sect","subt","subf","act","btnDel","btnEdit","btnCheck","btnAdd","btnTrans","selLang","selLangC","titleTxt","toggleEl","getDate","ld","h","pPub","publishTxt","lstUptTxt","authrsTxt","pLEdit","pAuth","author","fd0","fc0","in0","oninput","fd1","fl1","fc1","in1","fd2","fl2","fc2","in2","fd3","fl3","fr3","f3c0","f3f0","inAu0","inAuL0","f3c1","f3f1","inAu1","inAuL1","f3c2","f3f2","inAu2","inAuL2","uptAuthors","a0","a1","a2","arr","refIdx","refR","cLink","cLinkFrm","cBtn","pRef","aRef","makeRefCite","makeRefWeb","link","changeRef","fr0","onchange","inOpt0","inOpt1","toggleRef","rBtnEdit","rBtnCheck","sort","a","linkA","toUpperCase","linkB","rBtnDel","btnPlusRef0","plusRef","btnPlusRef1","Number","p","removeAttribute","inOpt","fr1","f1c0","yt","iframe","in0L","convUrl","length","part","substr","help0","in1L","ratios","rat","fig","position","borderRadius","btnChange","capt","fontSize","fontWeight","rcont","rnL","ranR","ranRC0","in3","valL","ranRC1","in2L","ultraClean","files","prevMed","read","FileReader","readAsDataURL","onload","e2","result","timePrev","fromMillis","getTime","revLangs","rev","finishPub","prog","substring","split","c","toKW","rToKW","wrd","r","kWObj","sum","wCount","banWrds","num","key","Object","entries","cats","uptMsg","uptDescrip","set","bundleURL","getBundleURLCached","getBundleURL","Error","matches","stack","match","getBaseURL","replace","exports","bundle","require","updateLink","newLink","cloneNode","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","module"],"mappings":"ACAA,ACAA,IDAIuW,ACAAU,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFFA,SCCSV,ACCAW,UAAT,CAAoBjG,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAkG,CDDCb,MCCM,GDDX,ACCcrF,EDDE,ECCE,CAACmG,SAAL,EAAd;ADAEd,ADDJ,ICCIA,ADDAvW,KAAK,GAAGC,CCCC,GAAGwW,IDDI,CAACvW,OCCO,ADDhB,ECCR,ADDJ;ACEG,ACADkX,AFDF,EECEA,EFDEjX,IAAI,CECC,CAACuU,CFDCzU,KECT,GAAiB,AFDA,CAACG,QAAT,EAAX,CEC+B;AAC3B8Q,AFAJ,IEAIA,AFAA7Q,IEAI,CAAC+D,CFAT,EAAY9D,GEAR,EFAJ,EAAmBC,MAAnB;ACCE,ACAC,AFAH,GEFE,CFEEC,KCAK+V,ADAA,GAAG,CAAC,CAAb,ICAE;AACD,ADDD,IAAgB9V,KAAK,GAAG,CAAC,CAAzB;AECE2W,AFAF,EEAEA,EFAE1W,KEAK,CAACgE,EFAE,EEAV,CFAa/D,EEAEuQ,EFAE,CAACtQ,CEAC,CAAC8D,CFAP,EAAf,CEAiB,CAAU2Q,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgC1U,IAAI,CAACC,GAAL,EAA/C;ADEF,ACDEsQ,AFDF,EECEA,EFDyBrQ,EECrB,CAACyW,EDCEb,ADFuB,GAAG,KECjC,AFDF,CECkBc,GDClB,GAAwB,MCDtB,CAA6BH,OAA7B,EAAsClG,IAAI,CAACsG,WAA3C;ADEA,ACDD,AFAD,IAAI1W,OAAO,GAAG,CAAC,CAAf;ACEE,ADDF,IAAIC,ECCE,MDDM,GAAG,CAAC,CAAhB;ACEI,ACDJ,AFDA,IECI0W,AFDezW,MCET,EDFiB,ECEb0V,ACDA,CFDgB,CAAC,CECd,AFDjB,ECEU,EAAN,ACDJ;ADEG,ADFH,GCAE,CAEE,ADFAzV,OCEO2D,CDFC,ECER,CDFW,CCEC,GDFhB;ACGI,ACFJ,AFAA,IAAI1D,ICEIyV,CCFCe,IFAI,ECEE,CDFC,ECEE,ACFlB,CDEmB,CDFnB,CEAqB,GDEG9S,GAAG,CAACgS,KA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","file":"edit.6da2ba10.js","sourceRoot":"../src","sourcesContent":["import '../styles/edit.scss';\n\nvar store = firebase.storage();\nvar rtDb = firebase.database();\n\nlet docDat, docId, docRef;\nlet toDel = -1, toAdd = -1;\nlet lastSave = Date.now(), saved = false;\n\nlet addFrom = -1;\nlet toDelMed = -1, toAddMed = -1;\nlet newMedia = null;\nlet newMedSrc = null;\n\nlet keywords = [];\n\nasync function translateSimple(text, from, target) {\n    let translate = firebase.app().functions('us-east1').httpsCallable('translations-translateSimple');\n    let res = await translate({\n        text: text,\n        from: from,\n        target: target\n    });\n    return res.data;\n}\n\nwindow.loaded = function loaded() {\n    allCats.forEach((cat, i) => {\n        let fat = document.createElement('div');\n        classes(fat, \"form-group col-auto\");\n        let div = document.createElement('div');\n        classes(div, \"form-check\");\n        let inp = document.createElement('input');\n        inp.id = \"cat\" + i;\n        classes(inp, \"form-check-input\");\n        inp.value = cat;\n        inp.setAttribute('type', 'checkbox');\n        inp.onclick = function () {\n            if (inp.checked == true) {\n                docDat.fixedCats.push(this.value);\n            } else {\n                docDat.fixedCats.splice(docDat.fixedCats.indexOf(this.value), 1);\n            }\n        }\n        div.appendChild(inp);\n        let lab = document.createElement('label');\n        lab.setAttribute('for', 'cat' + i);\n        classes(lab, \"form-check-label\")\n        lab.innerText = textCats[i];\n        div.appendChild(lab);\n        fat.appendChild(div);\n        document.getElementById('catFrmCont').appendChild(fat);\n    });\n\n    docRef = cookiesFSRef.doc(urlSrch.get('id'));\n    docRef.onSnapshot(doc => {\n        docDat = doc.data();\n        docId = doc.id;\n        document.getElementById('inFile').value = docDat.file;\n        document.getElementById('inDesc').value = docDat.description;\n        allCats.forEach((cat, i) => {\n            document.getElementById('cat' + i).checked = docDat.fixedCats.includes(document.getElementById('cat' + i).value);\n        });\n        render();\n        fillMed();\n        if (docDat.public) {\n            document.getElementById('btnPrivate').classList.remove('d-none');\n            document.getElementById('btnAprove').classList.add('d-none');\n            document.getElementById('btnPub').classList.add('d-none');\n        } else {\n            document.getElementById('btnPrivate').classList.add('d-none');\n            document.getElementById('btnAprove').classList.remove('d-none');\n            document.getElementById('btnPub').classList.remove('d-none');\n        }\n        if (docDat.revised[lang] && docDat.revised[lang].includes(uid)) {\n            document.getElementById('btnAprove').innerHTML = '<i class=\"fas fa-check-square\"></i>';\n        } else {\n            document.getElementById('btnAprove').innerHTML = '<i class=\"far fa-check-square\"></i>';\n        }\n        document.getElementById('btnPrevCook').href = docDat.url;\n        document.getElementById('btnPrevMail').href = '../vista-email/' + docDat.file;\n    }, err => { console.log(err) });\n\n    fillTrans();\n    function translateFrm() {\n        let translate = firebase.app().functions('us-east1').httpsCallable('translations-translateFullCookie');\n        return translate({\n            docId: docId,\n            from: document.getElementById('inTransFrom').value,\n            target: lang\n        });\n    }\n    document.getElementById(\"frmTranslate\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        classes(document.getElementById('btnCnfTranslate'), \"disabled\")\n        classes(document.getElementById('btnCanTranslate0'), \"disabled\")\n        classes(document.getElementById('btnCanTranslate1'), \"disabled\")\n        setprog('barTranslate', 0);\n        showEl(document.getElementById('barTranslateCont'));\n        runprog('barTranslate', 0, 90);\n        let transRes = translateFrm();\n        if (transRes) {\n            setprog('barTranslate', 100);\n            $('#mdlTranslate').modal('hide');\n            document.getElementById('btnCnfTranslate').classList.remove(\"disabled\");\n            document.getElementById('btnCanTranslate0').classList.remove(\"disabled\");\n            document.getElementById('btnCanTranslate1').classList.remove(\"disabled\");\n            hideEl(document.getElementById('barTranslateCont'))\n        } else {\n            if (lang = \"es\") {\n                alertTop(\"<strong>¡Ha ocurrido un error!</strong>\", 0);\n            } else if (lang = \"en\") {\n                alertTop(\"<strong>¡There has been an error!</strong>\", 0);\n            }\n            console.log('err');\n        }\n    });\n\n    function fileFrm() {\n        let file = document.getElementById('inFile').value;\n        cookiesFSRef.where(\"file\", \"==\", file).get().then(snap => {\n            if (!snap.empty && file != docDat.file) {\n                if (lang = \"es\") {\n                    alertTop(\"Ese nombre de archivo ya esta en uso.\", 0);\n                } else if (lang = \"en\") {\n                    alertTop(\"That file name is already in use.\", 0);\n                }\n            } else {\n                docDat.description = document.getElementById('inDesc').value.trim();\n                docDat.file = file;\n                normSave();\n            }\n        }).then(() => { console.log('exito') }).catch(err => console.log(err));\n    }\n    document.getElementById(\"frmFile\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        fileFrm();\n    });\n    langs.forEach((l, i) => {\n        if (l != lang) {\n            let opt = document.createElement('option');\n            if (i == 0) {\n                opt.setAttribute('selected', 'true');\n            }\n            opt.value = opt.innerText = l;\n            document.getElementById('selFileTrans').appendChild(opt);\n        }\n    })\n    document.getElementById('btnFileTrans').onclick = function () {\n        let ori = document.getElementById('selFileTrans').value\n        db.collection('cookies/langs/' + ori).doc(docId).get().then(async function (doc) {\n            let file = doc.data().file;\n            let desc = doc.data().description;\n            document.getElementById('inFile').value = await translateSimple(file, ori, lang);\n            document.getElementById('inFile').value = document.getElementById('inFile').value.trim().toLowerCase().replaceAll(' ', '-');\n            document.getElementById('inDesc').value = await translateSimple(desc, ori, lang);\n            fileFrm();\n        }).catch(err => console.log(err));\n    }\n\n    function addMed(atempt) {\n        let ref = store.ref('cookieMedia/' + docId + '/i' + atempt + newMedia.name);\n        ref.getDownloadURL().then(res => {\n            addMed(atempt + 1);\n        }).catch(err => {\n            if (err.code == 'storage/object-not-found') {\n                ref.put(newMedia).on('state_changed',\n                    function progress(snap) {\n                        setprog('barNewMed', (snap.bytesTransferred / snap.totalBytes) * 100);\n                    },\n                    function error(err) {\n                        if (lang = \"es\") {\n                            alertTop(\"<strong>¡Ha ocurrido un error!</strong> \" + err.code, 0);\n                        } else if (lang = \"en\") {\n                            alertTop(\"<strong>¡There has been an error!</strong> \" + err.code, 0);\n                        }\n                        console.log(err);\n                        $('#mdlAddMed').modal('hide');\n                    },\n                    function complete() {\n                        ref.getDownloadURL().then(medUrl => {\n                            docDat.media.push({\n                                medFile: 'i' + atempt + newMedia.name,\n                                medUrl: medUrl\n                            });\n                            normSave();\n                            fillMed();\n                            $('#mdlAddMed').modal('hide');\n                            if (addFrom == 0) $('#mdlMedMan').modal('show');\n                            else $('#mdlMedCho').modal('show');\n                        }).catch(err => { console.log(err) });\n                    }\n                );\n            } else {\n                console.log(err);\n            }\n        });\n    }\n    function addExtMed() {\n        docDat.media.push({\n            medFile: 'externo',\n            medUrl: document.getElementById('inNewMedUrl').value\n        });\n        normSave();\n        $('#mdlAddMed').modal('hide');\n        if (addFrom == 0) $('#mdlMedMan').modal('show');\n        else $('#mdlMedCho').modal('show');\n    }\n    document.getElementById(\"frmAddMed\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        setprog('barNewMed', 0);\n        showEl(document.getElementById(\"barNewMedCont\"));\n        hideEl(document.getElementById(\"frmAddMed\"));\n        document.getElementById(\"btnCnfNewMed\").setAttribute('disabled', 'true');\n        document.getElementById(\"btnCanNewMed0\").setAttribute('disabled', 'true');\n        document.getElementById(\"btnCanNewMed1\").setAttribute('disabled', 'true');\n        if (newMedSrc == \"home\") addMed(0);\n        else addExtMed();\n    });\n}\n\nlet savedInterval;\nfunction saveDoc() {\n    console.log('Saving...');\n    let d = docDat.published.toDate();\n    let month = d.getFullYear().toString();\n    if (d.getMonth() < 9) {\n        month += '0';\n    }\n    month += (d.getMonth() + 1);\n    let galletasText = \"\";\n    switch (lang) {\n        case \"es\":\n            galletasText = \"galletas\";\n            break;\n        case \"en\":\n            galletasText = \"cookies\";\n            break;\n    }\n    docDat.url = 'https://sciencecookies.net/' + galletasText + '/' + month + '/' + docDat.file + '/';\n    fillKW();\n    const promises = [];\n    langs.forEach(l => {\n        if (l != lang) {\n            let syncUpt = {\n                authors: docDat.authors.slice(),\n                media: docDat.media.slice(),\n                java: docDat.java,\n                notify: docDat.notify,\n                public: docDat.public,\n                beenPublic: docDat.beenPublic,\n                dledit: docDat.dledit,\n                created: docDat.created,\n                ledit: docDat.ledit,\n                published: docDat.published,\n                pop: docDat.pop,\n                likes: docDat.likes,\n                favs: docDat.favs,\n                revised: docDat.revised,\n                translations: docDat.translations,\n                fixedCats: docDat.fixedCats.slice()\n            }\n            syncUpt.fixedCats.forEach(function (cat, idx) {\n                syncUpt.fixedCats.splice(idx, 1, catTranslations[cat][l]);\n            });\n            syncUpt.translations[lang] = docDat.url;\n            promises.push(db.collection('cookies/langs/' + l).doc(docId).update(syncUpt));\n        }\n    })\n    return Promise.all(promises).then(() => {\n        return docRef.update(docDat);\n    });\n}\nfunction normSave() {\n    saveDoc().then(() => {\n        if (saved) clearInterval(savedInterval);\n        saved = true;\n        savedInterval = setInterval(() => {\n            let minutes = Math.floor((Date.now() - lastSave) / 60000);\n            if (minutes < 60) document.getElementById('tagLstSave').innerText = \"Guardado hace \" + minutes + \" minutos\";\n            else document.getElementById('tagLstSave').innerText = \"Guardado hace \" + Math.floor(minutes / 60) + \" horas\";\n        }, 300010);\n        document.getElementById('tagLstSave').innerText = \"Se han guardado todos los cambios\";\n        lastSave = Date.now();\n    }).catch(err => {\n        document.getElementById('tagLstSave').innerText = \"Error, no se han guardado todos los cambios: \" + err.code;\n        console.log(err);\n    });\n}\n\nfunction plusSect(type) {\n    let newSect = null;\n    if (type == 'html') {\n        newSect = {\n            type: type,\n            html: \"\"\n        };\n    } else if (type == 'parra') {\n        newSect = {\n            type: type,\n            text: \"\",\n            title: \"0\"\n        };\n    } else if (type == 'youtube') {\n        newSect = {\n            type: type,\n            vidUrl: \"\",\n            ratio: \"16by9\"\n        };\n    } else if (type == 'medSimple') {\n        newSect = {\n            type: type,\n            medUrl: \"https://via.placeholder.com/150.webp\",\n            alt: \"\",\n            caption: \"\",\n            hasCapt: \"true\",\n            width: \"75%\"\n        };\n    }\n    //Add more@#\n    if (newSect != null) docDat.cont.splice(toAdd, 0, newSect);\n    render();\n}\n\nfunction setprog(bar, n) {\n    bar = document.getElementById(bar);\n    n = Math.floor(n);\n    bar.setAttribute('aria-valuenow', n);\n    bar.style.width = n + '%';\n    bar.innerText = n + '%';\n}\nfunction runprog(bar, b, e) {\n    b = Math.floor(b);\n    e = Math.floor(e);\n    for (let i = b; i <= e; i++) {\n        setprog(bar, i);\n    }\n}\n\nfunction removeMedia(medFileName) {\n    return store.ref('cookieMedia/' + docId + '/' + medFileName).delete();\n}\n\nfunction fillMed() {\n    document.getElementById('contMedMan').innerHTML = `<div class=\"col mb-4\">\n        <div class=\"card text-dark bg-light h-100 cardBorder\" style=\"border-color: #343a40;\">\n            <a type=\"button\" data-toggle=\"modal\" data-target=\"#mdlAddMed\" data-dismiss=\"modal\" aria-label=\"Close\" class=\"text-decoration-none text-dark h-100 d-flex align-items-center justify-content-center\" onclick=\"addFrom=0;\">\n                <h1 style=\"font-size: 6rem;\" class=\"mb-0\"><i class=\"far fa-plus-square\"></i></h1>\n            </a>\n        </div>\n    </div>`;\n    document.getElementById('contMedCho').innerHTML = `<div class=\"col mb-4\">\n        <div class=\"card text-dark bg-light h-100 cardBorder\" style=\"border-color: #343a40;\">\n            <a type=\"button\" data-toggle=\"modal\" data-target=\"#mdlAddMed\" data-dismiss=\"modal\" aria-label=\"Close\" class=\"text-decoration-none text-dark h-100 d-flex align-items-center justify-content-center\" onclick=\"addFrom=1;\">\n                <h1 style=\"font-size: 6rem;\" class=\"mb-0\"><i class=\"far fa-plus-square\"></i></h1>\n            </a>\n        </div>\n    </div>`;\n\n    docDat.media.forEach((itm, idx) => {\n        let col0 = document.createElement('div');\n        classes(col0, \"col mb-4\");\n        let card0 = document.createElement('div');\n        classes(card0, \"card text-light bg-dark\");\n        col0.appendChild(card0);\n        let img0 = document.createElement('img');\n        classes(img0, \"card-img\");\n        img0.src = itm.medUrl;\n        card0.appendChild(img0);\n        let over0 = document.createElement('div');\n        classes(over0, \"card-img-overlay pt-0\");\n        over0.style.paddingLeft = \".9rem\";\n        over0.style.paddingRight = \".9rem\";\n        card0.appendChild(over0);\n        let btns0 = document.createElement('div');\n        classes(btns0, \"row mb-2 p-0\");\n        over0.appendChild(btns0);\n        let medBtnDel = document.createElement('button');\n        classes(medBtnDel, \"btn btn-light btn-scckie btn-sm\");\n        medBtnDel.innerHTML = '<i class=\"fas fa-trash-alt\"></i>';\n        medBtnDel.onclick = function () {\n            if (toDelMed == idx) {\n                toDelMed = -1;\n                if (document.getElementById(\"btnAlrtClsSsn\")) document.getElementById(\"btnAlrtClsSsn\").click();\n                if (itm.medFile != 'externo') {\n                    removeMedia(itm.medFile).then(() => {\n                        if (itm.medUrl == docDat.picUrl) {\n                            docDat.picUrl = \"\";\n                        }\n                        docDat.media.splice(idx, 1);\n                        normSave();\n                    }).catch(err => console.log(err));\n                } else {\n                    if (itm.medUrl == docDat.picUrl) {\n                        docDat.picUrl = \"\";\n                    }\n                    docDat.media.splice(idx, 1);\n                    normSave();\n                }\n            } else {\n                if (lang = \"es\") {\n                    alertTop(\"<strong>¿Quieres eliminar esta imagen?</strong> Presiona de nuevo el botón para confirmar.\", 2);\n                } else if (lang = \"en\") {\n                    alertTop(\"<strong>Do you want to delete this image? </strong> Press the button again to confirm.\", 2);\n                }\n                toDelMed = idx;\n                setTimeout(() => {\n                    toDelMed = -1;\n                }, 3000);\n            }\n        };\n        btns0.appendChild(medBtnDel);\n        let tooltip = document.createElement('div');\n        classes(tooltip, \"tooltipn ml-auto\");\n        let medBtnCopy = document.createElement('button');\n        classes(medBtnCopy, \"btn btn-light btn-scckie btn-sm\");\n        let tltipTxt = document.createElement('span');\n        classes(tltipTxt, \"tooltipTextn\");\n        tltipTxt.innerHTML = \"Copiar\";\n        medBtnCopy.appendChild(tltipTxt);\n        medBtnCopy.innerHTML += '<i class=\"fas fa-link\"></i>';\n        medBtnCopy.onclick = function () {\n            /*var copyText = document.getElementById(\"toCopy\");\n            //copyText.classList.remove('d-none');\n            copyText.select();\n            copyText.setSelectionRange(0, 99999);\n            document.execCommand(\"copy\");\n            //classes(copyText, \"d-none\");*/\n            window.open(itm.medUrl).focus();\n\n            tltipTxt.innerHTML = \"URL copiado\";\n        };\n        medBtnCopy.onmouseout = function () {\n            tltipTxt.innerHTML = \"Copiar\";\n        }\n        tooltip.appendChild(medBtnCopy);\n        btns0.appendChild(tooltip);\n        let medBtnUnstar = document.createElement('button');\n        let medBtnStar = document.createElement('button');\n        if (itm.medUrl == docDat.picUrl) {\n            classes(medBtnUnstar, \"btn btn-light btn-scckie btn-sm ml-1\");\n            medBtnUnstar.innerHTML = '<i class=\"fas fa-star\"></i>';\n            medBtnUnstar.onclick = function () {\n                docDat.picUrl = \"\";\n                normSave();\n            };\n            btns0.appendChild(medBtnUnstar);\n        } else {\n            classes(medBtnStar, \"btn btn-light btn-scckie btn-sm ml-1\");\n            medBtnStar.innerHTML = '<i class=\"far fa-star\"></i>';\n            medBtnStar.onclick = function () {\n                docDat.picUrl = itm.medUrl;\n                normSave();\n            };\n            btns0.appendChild(medBtnStar);\n        }\n\n        document.getElementById('contMedMan').appendChild(col0);\n\n\n        let col1 = document.createElement('div');\n        classes(col1, \"col mb-4\");\n        let btnA1 = document.createElement('a');\n        classes(btnA1, 'text-decoration-none');\n        btnA1.setAttribute('type', 'button');\n        btnA1.onclick = function () {\n            if (toAddMed == -1) return;\n            docDat.cont[toAddMed].medUrl = itm.medUrl;\n            normSave();\n        };\n        btnA1.setAttribute(\"data-dismiss\", \"modal\");\n        col1.appendChild(btnA1);\n        let card1 = document.createElement('div');\n        classes(card1, \"card text-light bg-dark\");\n        btnA1.appendChild(card1);\n        let img1 = document.createElement('img');\n        classes(img1, \"card-img\");\n        img1.src = itm.medUrl;\n        card1.appendChild(img1);\n\n        document.getElementById('contMedCho').appendChild(col1);\n    });\n}\n\nfunction render() {\n    document.getElementById('cont').innerHTML = \"\";\n    let publishDate;\n    if (docDat.beenPublic) {\n        publishDate = docDat.published;\n    } else {\n        docDat.published = publishDate = new firebase.firestore.Timestamp.now();\n    }\n    docDat.cont.forEach((item, idx) => {\n        let sect = document.createElement('div');\n        sect.id = 'sect' + idx;\n        let div = document.createElement('div');\n        classes(div, 'dropdown-divider mx-2')\n        if (item.type != 'head') sect.appendChild(div);\n\n        let subt = document.createElement('div');\n        subt.id = \"sect\" + idx + \"t\";\n        let subf = document.createElement('div');\n        classes(subf, \"d-none\");\n        subf.id = \"sect\" + idx + \"f\";\n\n        let act = document.createElement('div');\n        classes(act, 'row mb-2 px-2');\n        let btnDel, btnEdit, btnCheck, btnAdd, btnTrans, selLang;\n\n        if (item.type != 'head' && item.type != 'ref') {\n            btnDel = document.createElement('button');\n            classes(btnDel, 'btn btn-light btn-link-scckie ml-2');\n            btnDel.innerHTML = '<i class=\"fas fa-trash-alt\"></i>';\n            btnDel.onclick = function () {\n                if (toDel == idx) {\n                    toDel = -1;\n                    if (document.getElementById(\"btnAlrtClsSsn\")) document.getElementById(\"btnAlrtClsSsn\").click();\n                    docDat.cont.splice(idx, 1);\n                    render();//Important\n                    normSave();\n                } else {\n                    if (lang = \"es\") {\n                        alertTop(\"<strong>¿Quieres eliminar esta sección?</strong> Presiona de nuevo el botón para confirmar.\", 2);\n                    } else if (lang = \"en\") {\n                        alertTop(\"<strong>Do you want to delete this section? </strong> Press the button again to confirm.\", 2);\n                    }\n                    toDel = idx;\n                    setTimeout(() => {\n                        toDel = -1;\n                    }, 3000);\n                }\n            }\n            act.appendChild(btnDel);\n        }\n\n        let selLangC = document.createElement('div');\n        classes(selLangC, \"col-auto\");\n        selLang = document.createElement('select');\n        classes(selLang, \"form-control mr-0 ml-2 h-100\");\n        langs.forEach((l, i) => {\n            if (l != lang) {\n                let opt = document.createElement('option');\n                if (i == 0) {\n                    opt.setAttribute('selected', 'true');\n                }\n                opt.value = opt.innerText = l;\n                selLang.appendChild(opt);\n            }\n        })\n\n        if (item.type != 'ref') {\n            selLangC.appendChild(selLang);\n            act.appendChild(selLangC);\n            btnTrans = document.createElement('button');\n            classes(btnTrans, 'btn btn-light btn-link-scckie');\n            btnTrans.innerHTML = '<i class=\"fas fa-language\"></i>';\n            btnTrans.onclick = function () {\n                db.collection('cookies/langs/' + selLang.value).doc(docId).get().then(async function (doc) {\n                    let sect = doc.data().cont[idx];\n                    if (item.type != sect.type) return;\n                    if (sect.type == 'head') {\n                        docDat.cont[idx].title = await translateSimple(sect.title, selLang.value, lang);\n                    } else if (sect.type == 'html') {\n                        docDat.cont[idx].html = await translateSimple(sect.html, selLang.value, lang);\n                    } else if (sect.type == 'parra') {\n                        docDat.cont[idx].text = await translateSimple(sect.text, selLang.value, lang);\n                        if (sect.title != \"0\") {\n                            docDat.cont[idx].titleTxt = await translateSimple(sect.titleTxt, selLang.value, lang);\n                        }\n                    } else if (sect.type == 'medSimple') {\n                        docDat.cont[idx].alt = await translateSimple(sect.alt, selLang.value, lang);\n                        docDat.cont[idx].caption = await translateSimple(sect.caption, selLang.value, lang);\n                    }\n                    console.log(docDat.cont[idx]);\n                    normSave();\n                }).catch(err => console.log(err));\n            }\n            act.appendChild(btnTrans);\n\n            btnEdit = document.createElement('button');\n            classes(btnEdit, 'btn btn-light btn-link-scckie ml-auto');\n            btnEdit.innerHTML = '<i class=\"fas fa-edit\"></i>';\n            btnEdit.onclick = function () {\n                toggleEl(btnEdit);\n                toggleEl(btnCheck);\n                toggleEl(subf);\n                if (document.getElementById('tagLstSave').innerText == \"Se han guardado todos los cambios\") {\n                    let minutes = Math.floor((Date.now() - lastSave) / 60000);\n                    if (minutes > 0) {\n                        if (minutes > 59) document.getElementById('tagLstSave').innerText = \"Guardado hace \" + Math.floor(minutes / 60) + \" horas\";\n                        else document.getElementById('tagLstSave').innerText = \"Guardado hace \" + minutes + \" minutos\";\n                    } else document.getElementById('tagLstSave').innerText = \"Guardado hace \" + Math.floor((Date.now() - lastSave) / 1000) + \" segundos\";\n                }\n            }\n            act.appendChild(btnEdit);\n            btnCheck = document.createElement('button');\n            classes(btnCheck, 'btn btn-light btn-link-scckie ml-auto d-none');\n            btnCheck.innerHTML = '<i class=\"fas fa-check\"></i>';\n            btnCheck.onclick = function () {\n                toggleEl(btnEdit);\n                toggleEl(btnCheck);\n                toggleEl(subf);\n                normSave();\n            }\n            act.appendChild(btnCheck);\n            btnAdd = document.createElement('button');\n            classes(btnAdd, 'btn btn-light btn-link-scckie mx-2');\n            btnAdd.innerHTML = '<i class=\"fas fa-plus\"></i>';\n            btnAdd.setAttribute('data-toggle', \"modal\");\n            btnAdd.setAttribute('data-target', \"#mdlPlusSect\");\n            btnAdd.onclick = function () {\n                toAdd = idx + 1;\n            }\n            act.appendChild(btnAdd);\n        }\n        sect.appendChild(act);\n\n        if (item.type == 'head') {\n            let d = publishDate.toDate();\n            d = d.getDate() + '/' + (d.getMonth() + 1) + '/' + d.getFullYear();\n            let ld = docDat.ledit.toDate();\n            ld = ld.getDate() + '/' + (ld.getMonth() + 1) + '/' + ld.getFullYear();\n\n            let h = document.createElement('h1');\n            classes(h, \"text-center\");\n            h.innerHTML = docDat.cont[0].title;\n            subt.appendChild(h);\n            let pPub = document.createElement('p');\n            let publishTxt, lstUptTxt, authrsTxt;\n            if (lang == \"es\") {\n                publishTxt = \"Publicado: \";\n                lstUptTxt = \"Ultima actualización: \";\n                authrsTxt = \"Autor(es): \"\n            } else if (lang == \"en\") {\n                publishTxt = \"Published: \";\n                lstUptTxt = \"Last updated: \";\n                authrsTxt = \"Author(s):\"\n            }\n            pPub.innerText = publishTxt + d;\n            subt.appendChild(pPub);\n            if (docDat.dledit) {\n                let pLEdit = document.createElement('p');\n                pLEdit.innerText = lstUptTxt + ld;\n                subt.appendChild(pLEdit);\n            }\n            let pAuth = document.createElement('p');\n            pAuth.innerText = authrsTxt + docDat.cont[0].author;\n            subt.appendChild(pAuth);\n\n            let fd0 = document.createElement('div');\n            classes(fd0, \"row justify-content-center mb-2\");\n            let fc0 = document.createElement('div');\n            classes(fc0, \"col col-lg-6\");\n            let in0 = document.createElement('input');\n            classes(in0, \"form-control form-control-lg text-center\");\n            in0.setAttribute('type', 'text');\n            in0.setAttribute('placeholder', docDat.cont[0].title);\n            in0.value = docDat.cont[0].title;\n            fc0.appendChild(in0);\n            fd0.appendChild(fc0);\n            subf.appendChild(fd0);\n            in0.oninput = function () {\n                docDat.title = docDat.cont[0].title = in0.value.trim();\n                h.innerHTML = docDat.cont[0].title;\n            };\n\n            let fd1 = document.createElement('div');\n            classes(fd1, \"row mb-2\");\n            let fl1 = document.createElement('label');\n            classes(fl1, \"col-sm-2 col-form-label\");\n            fl1.innerText = publishTxt;\n            let fc1 = document.createElement('div');\n            classes(fc1, \"col\");\n            let in1 = document.createElement('input');\n            classes(in1, \"form-control\");\n            in1.setAttribute('type', 'text');\n            in1.setAttribute('readonly', 'true');\n            in1.value = d;\n            fc1.appendChild(in1);\n            fd1.appendChild(fl1);\n            fd1.appendChild(fc1);\n            subf.appendChild(fd1);\n\n            let fd2 = document.createElement('div');\n            let fl2 = document.createElement('label');\n            let fc2 = document.createElement('div');\n            let in2 = document.createElement('input');\n            if (docDat.dledit) {\n                classes(fd2, \"row mb-2\");\n                classes(fl2, \"col-sm-2 col-form-label\");\n                fl2.innerText = lstUptTxt;\n                classes(fc2, \"col\");\n                classes(in2, \"form-control\");\n                in2.setAttribute('type', 'text');\n                in2.setAttribute('readonly', 'true');\n                in2.value = ld;\n                fc2.appendChild(in2);\n                fd2.appendChild(fl2);\n                fd2.appendChild(fc2);\n                subf.appendChild(fd2);\n            }\n\n            let fd3 = document.createElement('div');\n            classes(fd3, \"row mb-2\");\n            let fl3 = document.createElement('label');\n            classes(fl3, \"col-sm-2 col-form-label\");\n            fl3.innerText = authrsTxt;\n            let fr3 = document.createElement('div');\n            classes(fr3, \"form-row justify-content-around pt-2\");\n            let f3c0 = document.createElement('div');\n            classes(f3c0, \"form-group col-auto mr-2\");\n            let f3f0 = document.createElement('div');\n            classes(f3f0, \"form-check\");\n            f3c0.appendChild(f3f0);\n            let inAu0 = document.createElement('input');\n            classes(inAu0, \"form-check-input\");\n            inAu0.setAttribute('type', 'checkbox');\n            if (docDat.cont[0].author.includes(' Andrea Garma')) inAu0.setAttribute('checked', 'true');\n            inAu0.value = ' Andrea Garma';\n            let inAuL0 = document.createElement('label');\n            classes(inAuL0, \"form-check-label\");\n            inAu0.setAttribute('for', 'authr0');\n            inAuL0.innerText = \"Andrea Garma\";\n            f3f0.appendChild(inAu0);\n            f3f0.appendChild(inAuL0);\n            fr3.appendChild(f3c0);\n            let f3c1 = document.createElement('div');\n            classes(f3c1, \"form-group col-auto mr-2\");\n            let f3f1 = document.createElement('div');\n            classes(f3f1, \"form-check\");\n            f3c1.appendChild(f3f1);\n            let inAu1 = document.createElement('input');\n            classes(inAu1, \"form-check-input\");\n            inAu1.setAttribute('type', 'checkbox');\n            if (docDat.cont[0].author.includes(' Javier Pantoja')) inAu1.setAttribute('checked', 'true');\n            inAu1.value = ' Javier Pantoja';\n            let inAuL1 = document.createElement('label');\n            classes(inAuL1, \"form-check-label\");\n            inAu1.setAttribute('for', 'authr1');\n            inAuL1.innerText = \"Javier Pantoja\";\n            f3f1.appendChild(inAu1);\n            f3f1.appendChild(inAuL1);\n            fr3.appendChild(f3c1);\n            let f3c2 = document.createElement('div');\n            classes(f3c2, \"form-group col-auto mr-2\");\n            let f3f2 = document.createElement('div');\n            classes(f3f2, \"form-check\");\n            f3c2.appendChild(f3f2);\n            let inAu2 = document.createElement('input');\n            classes(inAu2, \"form-check-input\");\n            inAu2.setAttribute('type', 'checkbox');\n            if (docDat.cont[0].author.includes(' Paulina Vargas')) inAu2.setAttribute('checked', 'true');\n            inAu2.value = ' Paulina Vargas';\n            let inAuL2 = document.createElement('label');\n            classes(inAuL2, \"form-check-label\");\n            inAu2.setAttribute('for', 'authr2');\n            inAuL2.innerText = \"Paulina Vargas\";\n            f3f2.appendChild(inAu2);\n            f3f2.appendChild(inAuL2);\n            fr3.appendChild(f3c2);\n            function uptAuthors(a0, a1, a2) {\n                let arr = [];\n                if (a0) arr.push(\" Andrea Garma\");\n                if (a1) arr.push(\" Javier Pantoja\");\n                if (a2) arr.push(\" Paulina Vargas\");\n                if (arr.empty) arr.push(' Anónimo');\n                docDat.cont[0].author = arr.slice();\n                docDat.authors = arr.slice();\n                pAuth.innerText = \"Autor(es):\" + docDat.cont[0].author;\n            }\n            inAu0.onclick = function () {\n                uptAuthors(inAu0.checked, inAu1.checked, inAu2.checked);\n            };\n            inAu1.onclick = function () {\n                uptAuthors(inAu0.checked, inAu1.checked, inAu2.checked);\n            };\n            inAu2.onclick = function () {\n                uptAuthors(inAu0.checked, inAu1.checked, inAu2.checked);\n            };\n\n            fd3.appendChild(fl3);\n            fd3.appendChild(fr3);\n            subf.appendChild(fd3);\n        } else if (item.type == 'ref') {\n            let h = document.createElement('h3');\n            if (lang == \"es\") {\n                h.innerHTML = '<br>Referencias';\n            } else if (lang == \"en\") {\n                h.innerHTML = '<br>References';\n            }\n            subt.appendChild(h);\n            item.ref.forEach((ref, refIdx) => {\n                let refR = document.createElement('div');\n                classes(refR, \"row mb-2\");\n                let cLink = document.createElement('div');\n                classes(cLink, \"col\");\n                refR.appendChild(cLink);\n                let cLinkFrm = document.createElement('div');\n                classes(cLinkFrm, \"col d-none\");\n                refR.appendChild(cLinkFrm);\n                let cBtn = document.createElement('div');\n                classes(cBtn, \"col-auto\");\n                refR.appendChild(cBtn);\n                let pRef = document.createElement('p');\n                cLink.appendChild(pRef);\n                let aRef;\n\n                function makeRefCite(text) {\n                    pRef.innerHTML = text;\n                }\n                function makeRefWeb(text) {\n                    pRef.innerHTML = \"\";\n                    aRef = document.createElement('a');\n                    classes(aRef, \"text-warning text-break\")\n                    aRef.href = text;\n                    aRef.setAttribute('target', '_blank');\n                    aRef.setAttribute('rel', 'nofollow');\n                    aRef.innerHTML = text + ' <i class=\"fas fa-external-link-alt\"></i>'\n                    pRef.appendChild(aRef);\n                }\n                if (ref.type == 'web') {\n                    makeRefWeb(ref.link);\n                } else if (ref.type == 'cite') {\n                    makeRefCite(ref.link);\n                }\n\n                function changeRef() {\n                    in1.value = in1.value.trim();\n                    docDat.cont[idx].ref[refIdx].link = in0.value;\n                    docDat.cont[idx].ref[refIdx].type = in1.value;\n                    if (ref.type == 'web') {\n                        makeRefWeb(ref.link);\n                        in0.setAttribute('placeholder', 'https://google.com');\n                    } else if (ref.type == 'cite') {\n                        makeRefCite(ref.link);\n                        in0.setAttribute('placeholder', 'Ref');\n                    }\n                }\n                let fr0 = document.createElement('div');\n                classes(fr0, \"row\");\n                let fc0 = document.createElement('div');\n                classes(fc0, \"col\");\n                let fc1 = document.createElement('div');\n                classes(fc1, \"col-auto\");\n                let in0 = document.createElement('input');\n                let in1 = document.createElement('select');\n                classes(in0, \"form-control\");\n                in0.setAttribute('type', 'text');\n                in0.value = ref.link;\n                if (ref.type == 'web') in0.setAttribute('placeholder', 'https://google.com');\n                if (ref.type == 'cite') in0.setAttribute('placeholder', 'Ref');\n                in0.onchange = function () { changeRef(); }\n                classes(in1, \"form-control form-control-sm\");\n                let inOpt0 = document.createElement('option');\n                inOpt0.value = \"web\";\n                if (ref.type == 'web') inOpt0.setAttribute('selected', 'true');\n                inOpt0.innerText = 'Web';\n                in1.appendChild(inOpt0);\n                let inOpt1 = document.createElement('option');\n                if (ref.type == 'cite') inOpt1.setAttribute('selected', 'true');\n                inOpt1.value = \"cite\";\n                inOpt1.innerText = 'Otro';\n                in1.appendChild(inOpt1);\n                in1.onchange = function () { changeRef(); }\n                fc0.appendChild(in0);\n                fc1.appendChild(in1);\n                fr0.appendChild(fc0);\n                fr0.appendChild(fc1);\n                cLinkFrm.appendChild(fr0);\n\n                function toggleRef() {\n                    toggleEl(cLink);\n                    toggleEl(cLinkFrm);\n                    toggleEl(rBtnEdit);\n                    toggleEl(rBtnCheck);\n                }\n                let rBtnEdit, rBtnCheck;\n                rBtnEdit = document.createElement('button');\n                classes(rBtnEdit, 'btn btn-light btn-link-scckie ml-auto');\n                rBtnEdit.innerHTML = '<i class=\"fas fa-edit\"></i>';\n                rBtnEdit.onclick = function () {\n                    toggleRef();\n                    if (document.getElementById('tagLstSave').innerText == \"Se han guardado todos los cambios\") {\n                        document.getElementById('tagLstSave').innerText = \"Guardado hace \" + Math.floor((Date.now() - lastSave) / 60000) + \" minutos\";\n                    }\n                };\n                rBtnCheck = document.createElement('button');\n                classes(rBtnCheck, 'btn btn-light btn-link-scckie ml-auto d-none');\n                rBtnCheck.innerHTML = '<i class=\"fas fa-check\"></i>';\n                rBtnCheck.onclick = function () {\n                    toggleRef();\n                    docDat.cont[idx].ref.sort((a, b) => {\n                        let linkA = a.link.toUpperCase();\n                        let linkB = b.link.toUpperCase();\n                        if (linkA < linkB) return -1;\n                        if (linkA > linkB) return 1;\n                        return 0;\n                    });\n                    normSave();\n                };\n                cBtn.appendChild(rBtnEdit);\n                cBtn.appendChild(rBtnCheck);\n                let rBtnDel = document.createElement('button');\n                classes(rBtnDel, 'btn btn-light btn-link-scckie ml-2');\n                rBtnDel.innerHTML = '<i class=\"fas fa-trash-alt\"></i>';\n                rBtnDel.onclick = function () {\n                    docDat.cont[idx].ref.splice(refIdx, 1);\n                    normSave();\n                };\n                cBtn.appendChild(rBtnDel);\n\n                subt.appendChild(refR);\n\n                if (ref.link == \"\") {\n                    rBtnEdit.click();\n                }\n            });\n            let btnPlusRef0 = document.createElement('a');\n            classes(btnPlusRef0, \"btn btn-light btn-scckie\");\n            btnPlusRef0.onclick = function () { plusRef(); };\n            btnPlusRef0.innerHTML = '<i class=\"fas fa-plus\"></i>'\n            h.appendChild(btnPlusRef0);\n            let btnPlusRef1 = document.createElement('a');\n            classes(btnPlusRef1, \"btn btn-light btn-scckie btn-lg btn-block border border-light\");\n            btnPlusRef1.onclick = function () { plusRef(); };\n            btnPlusRef1.innerHTML = '<i class=\"fas fa-plus\"></i>'\n            subt.appendChild(btnPlusRef1);\n            function plusRef() {\n                docDat.cont[idx].ref.push({\n                    type: \"web\",\n                    link: \"\"\n                });\n                render();\n            }\n        } else if (item.type == 'parra') {\n            let h;\n            if (Number(item.title) > 0) {\n                if (Number(item.title) == 2) subt.innerHTML = '<br>';\n                h = document.createElement('h' + item.title)\n                h.innerHTML = item.titleTxt;\n                subt.appendChild(h);\n            }\n            let p = document.createElement('p');\n            p.innerHTML = item.text;\n            subt.appendChild(p);\n\n            let fr0 = document.createElement('div');\n            classes(fr0, \"row\");\n            let fc0 = document.createElement('div');\n            classes(fc0, \"col\");\n            let fc1 = document.createElement('div');\n            classes(fc1, \"col-auto\");\n            let in0 = document.createElement('input');\n            let in1 = document.createElement('select');\n            classes(in0, \"form-control\");\n            in0.setAttribute('type', 'text');\n            if (Number(item.title) > 0) {\n                in0.value = item.titleTxt;\n                in0.setAttribute('placeholder', 'Subtítulo');\n                in0.removeAttribute('readonly');\n            } else {\n                in0.value = \"\";\n                in0.setAttribute('placeholder', '');\n                in0.setAttribute('readonly', 'true');\n            }\n            in0.oninput = function () {\n                docDat.cont[idx].titleTxt = h.innerHTML = in0.value;\n            }\n            classes(in1, \"form-control form-control-sm\");\n            for (let i = 0; i < 7; i++) {\n                let inOpt = document.createElement('option');\n                inOpt.value = i;\n                if (item.title == i) inOpt.setAttribute('selected', 'true');\n                inOpt.innerText = i;\n                in1.appendChild(inOpt);\n            }\n            in1.oninput = function () {\n                docDat.cont[idx].title = in1.value;\n                if (Number(in1.value) > 0) {\n                    in0.setAttribute('placeholder', 'Subtítulo');\n                    in0.removeAttribute('readonly');\n                    if (Number(item.title) == 2) subt.innerHTML = '<br>';\n                    else subt.innerHTML = \"\";\n                    h = document.createElement('h' + item.title)\n                    h.innerHTML = docDat.cont[idx].titleTxt = in0.value;\n                    subt.appendChild(h);\n                    subt.appendChild(p);\n                } else {\n                    in0.value = \"\";\n                    in0.setAttribute('placeholder', '');\n                    in0.setAttribute('readonly', 'true');\n                    docDat.cont[idx].titleTxt = in0.value;\n                    subt.innerHTML = \"\";\n                    subt.appendChild(p);\n                }\n            }\n            fc0.appendChild(in0);\n            fc1.appendChild(in1);\n            fr0.appendChild(fc0);\n            fr0.appendChild(fc1);\n            subf.appendChild(fr0);\n\n            let fr1 = document.createElement('div');\n            classes(fr0, \"row mb-2\");\n            let f1c0 = document.createElement('div');\n            classes(fc0, \"col\");\n            let in2 = document.createElement('textarea');\n            classes(in2, \"form-control\");\n            in2.setAttribute('rows', '8');\n            in2.value = item.text;\n            in2.oninput = function () {\n                docDat.cont[idx].text = p.innerHTML = in2.value.trim();\n            };\n            f1c0.appendChild(in2);\n            fr1.appendChild(f1c0);\n            subf.appendChild(fr1);\n\n            if (Number(item.title) > 0 && item.titleTxt == \"\") {\n                btnEdit.click();\n            }\n        } else if (item.type == 'html') {\n            let html = document.createElement('div');\n            html.innerHTML = item.html;\n            subt.appendChild(html);\n\n            let fr0 = document.createElement('div');\n            classes(fr0, \"row mb-2\");\n            let fc0 = document.createElement('div');\n            classes(fc0, \"col\");\n            let in0 = document.createElement('textarea');\n            classes(in0, \"form-control\");\n            in0.setAttribute('rows', '8');\n            in0.value = item.html;\n            in0.onchange = function () {\n                docDat.cont[idx].html = html.innerHTML = in0.value.trim();\n            };\n            fc0.appendChild(in0);\n            fr0.appendChild(fc0);\n            subf.appendChild(fr0);\n\n            if (item.html == \"\") {\n                btnEdit.click();\n            }\n        } else if (item.type == 'youtube') {\n            let yt = document.createElement('div');\n            classes(yt, \"embed-responsive embed-responsive-\" + item.ratio);\n            let iframe = document.createElement('iframe');\n            iframe.src = item.vidUrl;\n            iframe.setAttribute('frameborder', \"0\");\n            iframe.setAttribute('allow', \"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\");\n            iframe.setAttribute('allowfullscreen', \"true\");\n            yt.appendChild(iframe);\n            subt.appendChild(yt);\n\n            let fr0 = document.createElement('div');\n            classes(fr0, \"row\");\n            let fc0 = document.createElement('div');\n            classes(fc0, \"col\");\n            let fc1 = document.createElement('div');\n            classes(fc1, \"col-auto\");\n            let in0L = document.createElement('label');\n            in0L.innerText = \"URL\";\n            let in0 = document.createElement('input');\n            classes(in0, \"form-control\");\n            in0.setAttribute('type', 'text');\n            in0.value = item.vidUrl;\n            in0.onchange = function () {\n                let convUrl = in0.value.trim();\n                if (convUrl.length == 11) convUrl = \"https://www.youtube.com/embed/\" + convUrl;\n                else {\n                    let part, i = 1;\n                    do {\n                        part = convUrl[i - 1] + convUrl[i];\n                        i++;\n                    } while (part != \"e/\" && part != \"v=\");\n                    convUrl = \"https://www.youtube.com/embed/\" + convUrl.substr(i, 11);\n                }\n                docDat.cont[idx].vidUrl = iframe.src = convUrl;\n            }\n            let help0 = document.createElement('small');\n            classes(help0, \"text-muted\");\n            help0.innerText = \"aaaaaaaaaaa o https://youtu.be/aaaaaaaaaaa o https://www.youtube.com/watch?v=aaaaaaaaaaa\";\n            let in1L = document.createElement('label');\n            in1L.innerText = \"Ratio\";\n            let in1 = document.createElement('select');\n            classes(in1, \"form-control form-control-sm\");\n            let ratios = ['21by9', '16by9', '4by3', '1by1'];\n            for (let i = 0; i < 4; i++) {\n                let inOpt = document.createElement('option');\n                inOpt.value = ratios[i];\n                if (item.ratio == ratios[i]) inOpt.setAttribute('selected', 'true');\n                inOpt.innerText = ratios[i].replaceAll('by', ':');\n                in1.appendChild(inOpt);\n            }\n            in1.oninput = function () {\n                docDat.cont[idx].ratio = in1.value;\n                ratios.forEach(rat => {\n                    yt.classList.remove('embed-responsive-' + rat);\n                })\n                classes(yt, \"embed-responsive-\" + item.ratio);\n            }\n            fc0.appendChild(in0L);\n            fc0.appendChild(in0);\n            fc0.appendChild(help0);\n            fc1.appendChild(in1L);\n            fc1.appendChild(in1);\n            fr0.appendChild(fc0);\n            fr0.appendChild(fc1);\n            subf.appendChild(fr0);\n\n            if (item.vidUrl == \"\") {\n                btnEdit.click();\n            }\n        } else if (item.type == 'medSimple') {\n            let fig = document.createElement('figure');\n            classes(fig, \"mx-auto\");\n            fig.style.width = item.width;\n            fig.style.position = \"relative\";\n            fig.style.borderRadius = \".25rem\";\n            let img0 = document.createElement('img');\n            img0.setAttribute('alt', item.alt);\n            img0.src = item.medUrl;\n            classes(img0, \"w-100\");\n            fig.appendChild(img0);\n            let over0 = document.createElement('div');\n            classes(over0, \"card-img-overlay pt-0\");\n            over0.style.paddingLeft = \".9rem\";\n            over0.style.paddingRight = \".9rem\";\n            let btns0 = document.createElement('div');\n            classes(btns0, \"row mb-2 p-0\");\n            over0.appendChild(btns0);\n            let btnChange = document.createElement('button');\n            classes(btnChange, \"btn btn-light btn-scckie btn-sm ml-auto\");\n            btnChange.innerHTML = '<i class=\"fas fa-exchange-alt\"></i>';\n            btnChange.setAttribute('data-toggle', \"modal\")\n            btnChange.setAttribute('data-target', \"#mdlMedCho\")\n            btnChange.onclick = function () {\n                toAddMed = idx;\n            };\n            btns0.appendChild(btnChange);\n            fig.appendChild(over0);\n            let capt = document.createElement('figcaption');\n            capt.style.fontSize = \"70%\";\n            capt.style.fontWeight = \"lighter\";\n            capt.innerHTML = item.caption;\n            if (item.hasCapt) {\n                fig.appendChild(capt);\n            }\n            subt.appendChild(fig);\n\n            let rcont = document.createElement('div');\n            classes(rcont, \"form-group mb-2\");\n            let rnL = document.createElement('label');\n            rnL.innerText = \"Tamaño\";\n            let ranR = document.createElement('div');\n            classes(ranR, \"row\");\n            let ranRC0 = document.createElement('div');\n            classes(ranRC0, \"col align-center d-flex pr-0\");\n            let in3 = document.createElement('input');\n            in3.setAttribute('type', 'range');\n            in3.setAttribute('max', '100');\n            in3.setAttribute('min', '0');\n            in3.setAttribute('step', '1');\n            in3.value = '75';\n            classes(in3, \"form-control-range\");\n            in3.oninput = function () {\n                valL.innerHTML = in3.value + '%';\n                fig.style.width = docDat.cont[idx].width = in3.value + '%';\n            }\n            ranRC0.appendChild(in3);\n            let valL = document.createElement('span');\n            classes(valL, \"badge badge-primary range-value-L\");\n            valL.innerText = '75%';\n            let ranRC1 = document.createElement('div');\n            classes(ranRC1, \"col-auto\");\n            ranRC1.appendChild(valL);\n            ranR.appendChild(ranRC0);\n            ranR.appendChild(ranRC1);\n            rcont.appendChild(rnL);\n            rcont.appendChild(ranR);\n            subf.appendChild(rcont);\n            let fr0 = document.createElement('div');\n            classes(fr0, \"row\");\n            let fc0 = document.createElement('div');\n            classes(fc0, \"col\");\n            let fc1 = document.createElement('div');\n            classes(fc1, \"col-auto\");\n            let in0L = document.createElement('label');\n            in0L.innerText = \"Pie de foto\";\n            let in0 = document.createElement('input');\n            classes(in0, \"form-control\");\n            in0.setAttribute('type', 'text');\n            in0.value = item.caption;\n            in0.oninput = function () {\n                capt.innerHTML = docDat.cont[idx].caption = in0.value.trim();\n            }\n            let in1 = document.createElement('select');\n            classes(in1, \"form-control form-control-sm\");\n            let inOpt0 = document.createElement('option');\n            inOpt0.value = \"true\";\n            if (item.hasCapt == \"true\") inOpt0.setAttribute('selected', 'true');\n            inOpt0.innerText = \"Sí\";\n            in1.appendChild(inOpt0);\n            let inOpt1 = document.createElement('option');\n            inOpt1.value = \"false\";\n            if (item.hasCapt == \"false\") inOpt1.setAttribute('selected', 'true');\n            inOpt1.innerText = \"No\";\n            in1.appendChild(inOpt1);\n            in1.oninput = function () {\n                docDat.cont[idx].hasCapt = in1.value;\n                if (in1.value == \"true\") {\n                    capt.innerHTML = in0.value = docDat.cont[idx].caption;\n                    in0.removeAttribute('readonly');\n                    fig.appendChild(capt);\n                } else {\n                    in0.value = docDat.cont[idx].caption = \"\";\n                    in0.setAttribute('readonly', 'true');\n                    capt.innerHTML = \"\";\n                    fig.innerHTML = \"\";\n                    fig.appendChild(img0);\n                    fig.appendChild(over0);\n                }\n            }\n            fc0.appendChild(in0L);\n            fc0.appendChild(in0);\n            fc1.appendChild(in1);\n            fr0.appendChild(fc0);\n            fr0.appendChild(fc1);\n            subf.appendChild(fr0);\n\n            let fr1 = document.createElement('div');\n            classes(fr1, \"row\");\n            let f1c0 = document.createElement('div');\n            classes(f1c0, \"col\");\n            let in2L = document.createElement('label');\n            in2L.innerText = \"Alt\";\n            let in2 = document.createElement('input');\n            classes(in2, \"form-control\");\n            in2.setAttribute('type', 'text');\n            in2.value = item.alt;\n            in2.oninput = function () {\n                docDat.cont[idx].alt = in2.value.trim();\n                img0.setAttribute('alt', in2.value.trim());\n            }\n            f1c0.appendChild(in2L);\n            f1c0.appendChild(in2);\n            fr1.appendChild(f1c0);\n            subf.appendChild(fr1);\n\n            if (item.hasCapt == \"true\" && item.caption == \"\") {\n                btnEdit.click();\n            }\n        }//Add more@#*/\n        sect.appendChild(subt);\n        sect.appendChild(subf);\n        document.getElementById('cont').appendChild(sect);\n    });\n    document.getElementById('inJava').innerText = docDat.java;\n    document.getElementById('javaIns').innerHTML = docDat.java;\n}\n\ndocument.getElementById('inFile').oninput = function () {\n    document.getElementById('inFile').value = ultraClean(document.getElementById('inFile').value, '-');\n}\n\ndocument.getElementById('inJava').onchange = function () {\n    docDat.java = document.getElementById('javaIns').innerHTML = document.getElementById('inJava').value;\n}\ndocument.getElementById('btnEditJs').onclick = function () {\n    toggleEl(document.getElementById('btnEditJs'));\n    toggleEl(document.getElementById('btnCheckJs'));\n    document.getElementById('inJava').removeAttribute('readonly');\n};\ndocument.getElementById('btnCheckJs').onclick = function () {\n    toggleEl(document.getElementById('btnEditJs'));\n    toggleEl(document.getElementById('btnCheckJs'));\n    document.getElementById('inJava').setAttribute('readonly', 'true');\n    normSave();\n};\n\nfunction fillTrans() {\n    langs.forEach(l => {\n        if (l != lang) {\n            let opt = document.createElement('option');\n            opt.value = opt.innerText = l;\n            document.getElementById('inTransFrom').appendChild(opt);\n        }\n    })\n}\n\n$('#mdlAddMed').on('hidden.bs.modal', e => {\n    document.getElementById(\"prevNewMed\").src = '';\n    document.getElementById('inNewMedL').innerHTML = 'Elige una imagen';\n    document.getElementById('inNewMedUrl').value = \"\";\n    document.getElementById('inNewMed').removeAttribute('required');\n    document.getElementById('inNewMedUrl').removeAttribute('required');\n    hideEl(document.getElementById(\"barNewMedCont\"));\n    hideEl(document.getElementById(\"inNewMedFileCont\"));\n    hideEl(document.getElementById(\"inNewMedUrlCont\"));\n    showEl(document.getElementById(\"frmAddMed\"));\n    document.getElementById(\"btnCnfNewMed\").removeAttribute('disabled');\n    document.getElementById(\"btnCanNewMed0\").removeAttribute('disabled');\n    document.getElementById(\"btnCanNewMed1\").removeAttribute('disabled');\n})\ndocument.getElementById('inNewMed').addEventListener('change', e => {\n    newMedia = e.target.files[0];\n    function prevMed() {\n        var read = new FileReader();\n        read.readAsDataURL(newMedia);\n        read.onload = function (e2) {\n            document.getElementById(\"prevNewMed\").src = e2.target.result;\n        };\n    };\n    newMedia.name = ultraClean(newMedia.name, '');\n    document.getElementById('inNewMedL').innerHTML = newMedia.name;\n    prevMed(newMedia);\n});\ndocument.getElementById('inNewMedUrl').onchange = function () {\n    document.getElementById(\"prevNewMed\").src = document.getElementById('inNewMedUrl').value;\n};\ndocument.getElementById('inMedSrc0').onclick = function () {\n    newMedSrc = \"home\";\n    document.getElementById('inNewMed').setAttribute('required', 'true');\n    document.getElementById('inNewMedUrl').removeAttribute('required');\n    showEl(document.getElementById(\"inNewMedFileCont\"));\n    hideEl(document.getElementById(\"inNewMedUrlCont\"));\n}\ndocument.getElementById('inMedSrc1').onclick = function () {\n    newMedSrc = \"out\";\n    document.getElementById('inNewMed').removeAttribute('required');\n    document.getElementById('inNewMedUrl').setAttribute('required', 'true');\n    hideEl(document.getElementById(\"inNewMedFileCont\"));\n    showEl(document.getElementById(\"inNewMedUrlCont\"));\n}\n\ndocument.getElementById('inSendUpt').onclick = function () {\n    if (document.getElementById('inSendUpt').checked) {\n        showEl(document.getElementById('uptDescCont'));\n        document.getElementById('inUptDesc').setAttribute('required', 'true');\n    } else {\n        hideEl(document.getElementById('uptDescCont'));\n        document.getElementById('inUptDesc').removeAttribute('required');\n    }\n}\n\ndocument.getElementById('btnPrevCook').onclick = function () {\n    docDat.timePrev = new firebase.firestore.Timestamp.fromMillis((new Date(Date.now())).getTime() + 900000);\n    normSave();\n};\ndocument.getElementById('btnPrevMail').onclick = function () {\n    docDat.timePrev = new firebase.firestore.Timestamp.fromMillis((new Date(Date.now())).getTime() + 900000);\n    normSave();\n};\n\ndocument.getElementById('btnPrivate').onclick = function () {\n    docDat.public = false;\n    normSave();\n};\n\ndocument.getElementById('btnAprove').onclick = function () {\n    if (docDat.revised[lang] && docDat.revised[lang].includes(uid)) {\n        docDat.revised[lang].splice(docDat.revised[lang].indexOf(uid), 1);\n        document.getElementById('btnAprove').innerHTML = '<i class=\"far fa-check-square\"></i>';\n    } else {\n        if (!docDat.revised[lang]) docDat.revised[lang] = [];\n        docDat.revised[lang].push(uid);\n        document.getElementById('btnAprove').innerHTML = '<i class=\"fas fa-check-square\"></i>';\n    }\n    normSave();\n};\n\n$('#mdlAddMed').on('hiden.bs.modal', e => {\n    document.getElementById('inMedSrc0').setAttribute('checked', 'false');\n    document.getElementById('inMedSrc1').setAttribute('checked', 'false');\n    document.getElementById('inNewMed').removeAttribute('required');\n    document.getElementById('inNewMedUrl').removeAttribute('required');\n    hideEl(document.getElementById(\"inNewMedFileCont\"));\n    hideEl(document.getElementById(\"inNewMedUrlCont\"));\n});\n\n$('#mdlPublish').on('show.bs.modal', e => {\n    let revLangs = 0;\n    langs.forEach(l => {\n        let rev = docDat.revised[l] ? docDat.revised[l].length : 0;\n        if (docDat.revised[l] && !docDat.revised[l].includes(uid)) rev++;\n        if (rev >= 2) revLangs++;\n    });\n    if (revLangs == langs.length) {\n        classes(document.getElementById('btnCnfPublish'), \"d-none\");\n        document.getElementById('mdlPublishTxt').innerText = \"Para publicar es necesario que lo hayan aprovado al menos dos personas.\";\n        document.getElementById('frmPublish').classList.add('d-none');\n    } else {\n        document.getElementById('btnCnfPublish').classList.remove(\"d-none\");\n        document.getElementById('mdlPublishTxt').innerText = \"La galleta está lista para publicar\";\n        document.getElementById('frmPublish').classList.remove('d-none');\n        if (docDat.beenPublic) document.getElementById('sendUptCont').classList.remove('d-none');\n    }\n});\n\nfunction finishPub() {\n    setprog('barPublish', 100);\n    classes(document.getElementById('barPublish'), 'bg-success');\n    if (lang = \"es\") {\n        alertTop(\"Publicado correctamente\", 1);\n    } else if (lang = \"en\") {\n        alertTop(\"Published successfully\", 1);\n    }\n    setTimeout(function () {\n        window.open(docDat.url, '_blank').focus();\n    }, 2500);\n    console.log(\"Data saved successfully.\");\n    $('#mdlPublish').modal('hide');\n}\nfunction fillKW() {\n    let n = 0\n    function prog() {\n        setprog('barPublish', n);\n    }\n    keywords = [];\n    keywords.push(docDat.published.toDate().getFullYear().toString());\n    if (docDat.published.toDate().getFullYear().toString() != docDat.ledit.toDate().getFullYear().toString()) keywords.push(docDat.ledit.toDate().getFullYear().toString());\n    n++;\n    prog();\n    docDat.authors.forEach(itm => {\n        itm.substring(1).split(' ').forEach(c => {\n            keywords.push(ultraClean(c, ''));\n        });\n        n += (3 / docDat.authors.length);\n        prog();\n    });\n\n    let toKW = [];\n\n    docDat.title.split(' ').forEach(itm => {\n        toKW.push(itm.replaceAll(/(<([^>]*)>)/gi, \" \").trim());\n    });\n    n++;\n    prog();\n\n    docDat.description.split(' ').forEach(itm => {\n        toKW.push(itm.replaceAll(/(<([^>]*)>)/gi, \" \").trim());\n        n += (3 / docDat.description.split(' ').length);\n        prog();\n    });\n\n    docDat.cont.forEach(sect => {\n        if (sect.type == 'parra') {\n            if (Number(sect.title) > 0) {\n                sect.titleTxt.split(' ').forEach(itm => {\n                    toKW.push(itm.replaceAll(/(<([^>]*)>)/gi, \" \").trim());\n                });\n            }\n            sect.text.split(' ').forEach(itm => {\n                toKW.push(itm.replaceAll(/(<([^>]*)>)/gi, \" \").trim());\n                n += (14 / docDat.cont.length / sect.text.split(' ').length);\n                prog();\n            });\n        } else if (sect.type == 'medSimple') {\n            if (sect.alt != \"\") {\n                sect.alt.split(' ').forEach(itm => {\n                    toKW.push(itm.replaceAll(/(<([^>]*)>)/gi, \" \").trim());\n                });\n            }\n            if (sect.caption != \"\") {\n                sect.caption.split(' ').forEach(itm => {\n                    toKW.push(itm.replaceAll(/(<([^>]*)>)/gi, \" \").trim());\n                });\n            }\n            n += (14 / docDat.cont.length);\n            prog();\n        }\n        //@#\n    });\n\n    let rToKW = [];\n    let l = toKW.length;\n    for (let i = 0; i < l; i++) {\n        let wrd = toKW[i];\n        let r = wrd.indexOf(' ');\n        if (r != -1) {\n            wrd.split(' ').forEach(itm => {\n                rToKW.push(itm);\n            });\n            toKW.splice(i, 1);\n            i--;\n            l--;\n        }\n    };\n\n    rToKW.forEach(itm => {\n        toKW.push(itm);\n    });\n    n++\n    prog();\n\n    l = toKW.length;\n    for (let i = 0; i < l; i++) {\n        toKW.splice(i, 1, ultraClean(toKW[i], ''));\n        n += (3 / toKW.length);\n        prog();\n    };\n\n    let kWObj = {}, sum = 0, wCount = 0;\n    let banWrds = [\"1\", \"2\", \"3\", \"4\", \"6\", \"7\", \"8\", \"9\", \"0\", \"tan\", \"ser\", \"los\", \"serian\", \"pero\", \"podemos\", \"su\", \"o\", \"y\", \"e\", \"la\", \"del\", \"es\", \"si\", \"en\", \"otro\", \"de\", \"tendrian\", \"no\", \"se\", \"una\", \"mas\", \"el\", \"a\", \"embargo\", \"las\", \"sin\", \"con\", \"un\", \"para\", \"por\", \"les\", \"\", \"vez\", \"gran\", \"este\", \"esta\", \"estos\", \"estas\", \"nos\", \"al\", \"dio\", \"has\", \"preguntado\", \"el\", \"lo\", \"tu\", \"tus\", \"hacen\", \"otros\", \"para\", \"ellos\", \"ellas\", \"ese\", \"esa\", \"esos\", \"esas\", \"detras\", \"delante\", \"nos\", \"le\", \"muy\", \"casi\", \"son\", \"pues\", \"a\", \"ha\", \"han\", \"fue\"];//@#\n    toKW.forEach(itm => {\n        if (!banWrds.includes(itm)) {\n            let num = kWObj[itm];\n            if (!num) {\n                kWObj[itm] = 1;\n                wCount++;\n            }\n            else kWObj[itm]++;\n            sum++;\n        }\n        n += (3 / toKW.length);\n        prog();\n    });\n\n    for (const [key, value] of Object.entries(kWObj)) {\n        if (value > sum / wCount) {\n            keywords.push(key);\n        }\n        n += (3 / Object.entries(kWObj).length);\n        prog();\n    }\n    docDat.fixedCats.forEach(itm => {\n        keywords.push(itm);\n    });\n    docDat.cats = keywords;\n    console.log(keywords);\n}\n\ndocument.getElementById('btnCnfPublish').onclick = function () {\n    if (docDat.public) return;\n    setprog('barPublish', 0);\n    showEl(document.getElementById(\"barPublishCont\"));\n\n    docDat.public = true;\n    docDat.ledit = new firebase.firestore.Timestamp.now();\n    docDat.beenPublic = true;\n    docDat.revised = {};\n    setprog('barPublish', 31);\n\n    if (!docDat.beenPublic) {\n        docDat.notify = true;\n        docDat.published = new firebase.firestore.Timestamp.now();\n        setprog('barPublish', 62);\n    } else {\n        if (document.getElementById('inSendUpt').checked) {\n            docDat.dledit = true;\n            docDat.notify = true;\n        } else {\n            docDat.dledit = false;\n            docDat.notify = false;\n        }\n        setprog('barPublish', 45);\n        if (document.getElementById('inSendUpt').checked) {\n            docDat.uptMsg = true;\n            docDat.uptDescrip = document.getElementById('inUptDesc').value.trim();\n        } else {\n            docDat.uptMsg = false;\n            docDat.uptDescrip = \"\";\n        }\n        setprog('barPublish', 62);\n    }\n\n    saveDoc().then(() => {\n        rtDb.ref('galletas/' + docId).set({\n            pop: docDat.pop,\n            likes: docDat.likes,\n            favs: docDat.favs\n        }, err => {\n            if (err) {\n                console.log(\"Data could not be saved.\" + err);\n            } else {\n                setprog('barPublish', 84);\n                finishPub();\n            }\n        });\n    }).catch(err => {\n        if (lang = \"es\") {\n            alertTop(\"<strong>¡Ha ocurrido un error!</strong> \" + err.code, 0);\n        } else if (lang = \"en\") {\n            alertTop(\"<strong>¡There has been an error!</strong> \" + err.code, 0);\n        }\n        console.log(err);\n    });\n};","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}