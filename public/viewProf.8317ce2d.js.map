{"version":3,"sources":["js/viewProf.js"],"names":["points","rank","favn","favl","likedn","likedl","ppic","pname","pemail","visible","vmail","vfl","gotFL","shwPrfl","document","getElementById","classList","add","firebase","storage","ref","urlSrch","get","getDownloadURL","then","url","setAttribute","src","remove","innerHTML","catch","err","shwFav","favStr","forEach","itm","idx","shwLike","likedStr","shwCrds","t","u","window","location","href","app","functions","httpsCallable","getUserPublic","userPublic","data","vemail","shwCrds2","loaded"],"mappings":";AACA,IAAIA,EAAQC,EACRC,EAAMC,EAAMC,EAAQC,EACpBC,EAAMC,EAAOC,EACbC,EAASC,EAAOC,EAHFC,GAAQ,EAS1B,SAASC,IACLC,SAASC,eAAe,cAAcC,UAAUC,IAAI,UACpDC,SAASC,UAAUC,IAAI,SAAWC,QAAQC,IAAI,KAAO,eAAeC,iBAAiBC,KAAK,SAAAC,GAC1E,MAARnB,EAAcQ,SAASC,eAAe,SAASW,aAAa,UAAW,aAAepB,EAAO,KAC5FQ,SAASC,eAAe,SAASW,aAAa,UAAW,kDAC9DZ,SAASC,eAAe,SAASY,IAAMF,EACzB,MAAVjB,GAAgBM,SAASC,eAAe,aAAaC,UAAUY,OAAO,UAC1Ed,SAASC,eAAe,WAAWc,UAAYrB,EAC/CM,SAASC,eAAe,WAAWc,UAAYtB,EAC/CO,SAASC,eAAe,WAAWC,UAAUY,OAAO,YACrDE,MAAM,SAAAC,GACO,MAARzB,EAAcQ,SAASC,eAAe,SAASW,aAAa,UAAW,aAAepB,EAAO,KAC5FQ,SAASC,eAAe,SAASW,aAAa,UAAW,wCAC9DZ,SAASC,eAAe,SAASY,IAAM,GACzB,MAAVnB,GAAgBM,SAASC,eAAe,aAAaC,UAAUY,OAAO,UAC1Ed,SAASC,eAAe,WAAWc,UAAYrB,EAC/CM,SAASC,eAAe,WAAWc,UAAYtB,EAC/CO,SAASC,eAAe,WAAWC,UAAUY,OAAO,YAG5D,SAASI,IACD9B,GAAQ,MAARA,EAAAA,CACJY,SAASC,eAAe,aAAaC,UAAUC,IAAI,UAC/CgB,IAAAA,EAAS,GACb/B,EAAKgC,QAAQ,SAAUC,EAAKC,GACxBH,EAASA,EAAS,gIAAkI9B,EAAKiC,GAAO,KAAOD,EAAM,0CAEjLrB,SAASC,eAAe,UAAUc,UAAYI,EAC9CnB,SAASC,eAAe,UAAUC,UAAUY,OAAO,WAEvD,SAASS,IACDjC,GAAU,MAAVA,EAAAA,CACJU,SAASC,eAAe,cAAcC,UAAUC,IAAI,UAChDqB,IAAAA,EAAW,GACflC,EAAO8B,QAAQ,SAAUC,EAAKC,GAC1BE,EAAWA,EAAW,gIAAkIjC,EAAO+B,GAAO,KAAOD,EAAM,0CAEvLrB,SAASC,eAAe,WAAWc,UAAYS,EAC/CxB,SAASC,eAAe,WAAWC,UAAUY,OAAO,WAExD,SAASW,EAAQC,EAAGC,IACN,MAALA,GAAkB,IAALA,GAAa7B,IAC3B8B,OAAOC,SAASC,KAAO,8BAElB,MAALJ,GAAqB,MAARtC,IAAcsC,EAAI,QACtB,GAAT5B,IACoBM,SAAS2B,MAAMC,UAAU,YAAYC,cAAc,gBACvEC,CAAcP,GAAGjB,KAAK,SAAAyB,GAEA,OADlBA,EAAaA,EAAWC,OAEpBpC,SAASC,eAAe,aAAaC,UAAUC,IAAI,YACnDH,SAASC,eAAe,cAAcC,UAAUC,IAAI,YACpDH,SAASC,eAAe,cAAcC,UAAUC,IAAI,YACpDH,SAASC,eAAe,aAAaC,UAAUC,IAAI,UACnDH,SAASC,eAAe,WAAWC,UAAUC,IAAI,UACjDH,SAASC,eAAe,YAAYc,UAAY,6EAChDf,SAASC,eAAe,WAAWC,UAAUY,OAAO,YAEpD1B,EAAO+C,EAAW/C,KAClBC,EAAO8C,EAAW9C,KAClBC,EAAS6C,EAAW7C,OACpBC,EAAS4C,EAAW5C,OACpBL,EAASiD,EAAWjD,OACpBC,EAAOgD,EAAWhD,KAClBQ,EAAUwC,EAAWxC,QACrB0C,OAASF,EAAWE,OACpBxC,EAAMsC,EAAWtC,IACjBL,EAAO2C,EAAW3C,KAClBE,EAASyC,EAAWzC,OACpBD,EAAQ0C,EAAW1C,MACP,MAARL,IACAY,SAASC,eAAe,aAAaC,UAAUC,IAAI,YACnDH,SAASC,eAAe,cAAcC,UAAUC,IAAI,aAExDmC,EAASZ,MAEdV,MAAM,SAAAC,MACTnB,GAAQ,GAERwC,EAASZ,GAGjB,SAASY,EAASZ,GACVA,GAAK,QAALA,EAAa,CACTtC,GAAQ,MAARA,EAAc,OAClBY,SAASC,eAAe,WAAWC,UAAUC,IAAI,UACjDH,SAASC,eAAe,cAAcC,UAAUY,OAAO,UACvDd,SAASC,eAAe,WAAWC,UAAUC,IAAI,UACjDH,SAASC,eAAe,cAAcC,UAAUY,OAAO,UACvDI,SAEIQ,GAAK,SAALA,EAAc,CACVpC,GAAU,MAAVA,EAAgB,OACpBU,SAASC,eAAe,UAAUC,UAAUC,IAAI,UAChDH,SAASC,eAAe,aAAaC,UAAUY,OAAO,UACtDd,SAASC,eAAe,WAAWC,UAAUC,IAAI,UACjDH,SAASC,eAAe,cAAcC,UAAUY,OAAO,UACvDS,SAEAvB,SAASC,eAAe,UAAUC,UAAUC,IAAI,UAChDH,SAASC,eAAe,aAAaC,UAAUY,OAAO,UACtDd,SAASC,eAAe,WAAWC,UAAUC,IAAI,UACjDH,SAASC,eAAe,cAAcC,UAAUY,OAAO,UACvDf,IA3GZ6B,OAAOW,OAAS,WACZd,EAAQlB,QAAQC,IAAI,OAAQD,QAAQC,IAAI","file":"viewProf.8317ce2d.js","sourceRoot":"../src","sourcesContent":["//Global\nvar points, rank, gotFL = false;\nvar favn, favl, likedn, likedl;\nvar ppic, pname, pemail;\nvar visible, vmail, vfl;\n\nwindow.loaded = function loaded() {\n    shwCrds(urlSrch.get('tab'), urlSrch.get('user'));\n}\n\nfunction shwPrfl() {\n    document.getElementById('navBtnPrfl').classList.add('active');\n    firebase.storage().ref('ppics/' + urlSrch.get('u') + '/pp_200x200').getDownloadURL().then(url => {\n        if (ppic != null) document.getElementById('disPP').setAttribute('onerror', \"this.src='\" + ppic + \"'\");\n        else document.getElementById('disPP').setAttribute('onerror', \"this.src='https://via.placeholder.com/20.webp'\");\n        document.getElementById('disPP').src = url;\n        if (pemail != null) document.getElementById('contEmail').classList.remove('d-none');\n        document.getElementById('disMail').innerHTML = pemail;\n        document.getElementById('disName').innerHTML = pname;\n        document.getElementById('crdPrfl').classList.remove('d-none');\n    }).catch(err => {\n        if (ppic != null) document.getElementById('disPP').setAttribute('onerror', \"this.src='\" + ppic + \"'\");\n        else document.getElementById('disPP').setAttribute('onerror', \"https://via.placeholder.com/20.webp'\");\n        document.getElementById('disPP').src = '';\n        if (pemail != null) document.getElementById('contEmail').classList.remove('d-none');\n        document.getElementById('disMail').innerHTML = pemail;\n        document.getElementById('disName').innerHTML = pname;\n        document.getElementById('crdPrfl').classList.remove('d-none');\n    });\n}\nfunction shwFav() {\n    if (favn == null) return;\n    document.getElementById('navBtnFav').classList.add('active');\n    let favStr = '';\n    favn.forEach(function (itm, idx) {\n        favStr = favStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + favl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntFav').innerHTML = favStr;\n    document.getElementById('crdFav').classList.remove('d-none');\n}\nfunction shwLike() {\n    if (likedn == null) return;\n    document.getElementById('navBtnLike').classList.add('active');\n    let likedStr = '';\n    likedn.forEach(function (itm, idx) {\n        likedStr = likedStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + likedl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntLike').innerHTML = likedStr;\n    document.getElementById('crdLike').classList.remove('d-none');\n}\nfunction shwCrds(t, u) {\n    if ((u == null || u == '') && !gotFL) {\n        window.location.href = 'https://sciencecookies.net';\n    }\n    if (t == null || favn == null) t = 'prof';\n    if (gotFL == false) {\n        let getUserPublic = firebase.app().functions('us-east1').httpsCallable('getUserPublic');\n        getUserPublic(u).then(userPublic => {\n            userPublic = userPublic.data;\n            if (userPublic == null) {\n                document.getElementById('navBtnFav').classList.add('disabled');\n                document.getElementById('navBtnLike').classList.add('disabled');\n                document.getElementById('navBtnPrfl').classList.add('disabled');\n                document.getElementById('contEmail').classList.add('d-none');\n                document.getElementById('contPic').classList.add('d-none');\n                document.getElementById('contNull').innerHTML = '<div class=\"col\"><strong>Este perf√≠l no existe o es privado</strong></div>';\n                document.getElementById('crdPrfl').classList.remove('d-none');\n            } else {\n                favn = userPublic.favn;\n                favl = userPublic.favl;\n                likedn = userPublic.likedn;\n                likedl = userPublic.likedl;\n                points = userPublic.points;\n                rank = userPublic.rank;\n                visible = userPublic.visible;\n                vemail = userPublic.vemail;\n                vfl = userPublic.vfl;\n                ppic = userPublic.ppic;\n                pemail = userPublic.pemail;\n                pname = userPublic.pname;\n                if (favn == null) {\n                    document.getElementById('navBtnFav').classList.add('disabled');\n                    document.getElementById('navBtnLike').classList.add('disabled');\n                }\n                shwCrds2(t);\n            }\n        }).catch(err => { });\n        gotFL = true;\n    } else {\n        shwCrds2(t);\n    }\n}\nfunction shwCrds2(t) {\n    if (t == 'favs') {\n        if (favn == null) return;\n        document.getElementById('crdPrfl').classList.add('d-none');\n        document.getElementById('navBtnPrfl').classList.remove('active');\n        document.getElementById('crdLike').classList.add('d-none');\n        document.getElementById('navBtnLike').classList.remove('active');\n        shwFav();\n    } else {\n        if (t == 'likes') {\n            if (likedn == null) return;\n            document.getElementById('crdFav').classList.add('d-none');\n            document.getElementById('navBtnFav').classList.remove('active');\n            document.getElementById('crdPrfl').classList.add('d-none');\n            document.getElementById('navBtnPrfl').classList.remove('active');\n            shwLike();\n        } else {\n            document.getElementById('crdFav').classList.add('d-none');\n            document.getElementById('navBtnFav').classList.remove('active');\n            document.getElementById('crdLike').classList.add('d-none');\n            document.getElementById('navBtnLike').classList.remove('active');\n            shwPrfl();\n        }\n    }\n}"]}