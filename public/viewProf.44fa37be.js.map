{"version":3,"sources":["js/viewProf.js"],"names":["points","rank","gotFL","favn","favl","likedn","likedl","ppic","pname","pemail","visible","vmail","vfl","window","loaded","shwCrds","urlSrch","get","shwPrfl","document","getElementById","classList","add","firebase","storage","ref","getDownloadURL","then","url","setAttribute","src","remove","innerHTML","catch","err","shwFav","favStr","forEach","itm","idx","shwLike","likedStr","t","u","location","href","getUserPublic","app","functions","httpsCallable","userPublic","data","vemail","shwCrds2"],"mappings":"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","file":"viewProf.44fa37be.js","sourceRoot":"../src","sourcesContent":["//Global\nvar points, rank, gotFL = false;\nvar favn, favl, likedn, likedl;\nvar ppic, pname, pemail;\nvar visible, vmail, vfl;\n\nwindow.loaded = function loaded() {\n    shwCrds(urlSrch.get('tab'), urlSrch.get('user'));\n}\n\nfunction shwPrfl() {\n    document.getElementById('navBtnPrfl').classList.add('active');\n    firebase.storage().ref('ppics/' + urlSrch.get('u') + '/pp_200x200').getDownloadURL().then(url => {\n        if (ppic != null) document.getElementById('disPP').setAttribute('onerror', \"this.src='\" + ppic + \"'\");\n        else document.getElementById('disPP').setAttribute('onerror', \"this.src='https://via.placeholder.com/20.webp'\");\n        document.getElementById('disPP').src = url;\n        if (pemail != null) document.getElementById('contEmail').classList.remove('d-none');\n        document.getElementById('disMail').innerHTML = pemail;\n        document.getElementById('disName').innerHTML = pname;\n        document.getElementById('crdPrfl').classList.remove('d-none');\n    }).catch(err => {\n        if (ppic != null) document.getElementById('disPP').setAttribute('onerror', \"this.src='\" + ppic + \"'\");\n        else document.getElementById('disPP').setAttribute('onerror', \"https://via.placeholder.com/20.webp'\");\n        document.getElementById('disPP').src = '';\n        if (pemail != null) document.getElementById('contEmail').classList.remove('d-none');\n        document.getElementById('disMail').innerHTML = pemail;\n        document.getElementById('disName').innerHTML = pname;\n        document.getElementById('crdPrfl').classList.remove('d-none');\n    });\n}\nfunction shwFav() {\n    if (favn == null) return;\n    document.getElementById('navBtnFav').classList.add('active');\n    let favStr = '';\n    favn.forEach(function (itm, idx) {\n        favStr = favStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + favl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntFav').innerHTML = favStr;\n    document.getElementById('crdFav').classList.remove('d-none');\n}\nfunction shwLike() {\n    if (likedn == null) return;\n    document.getElementById('navBtnLike').classList.add('active');\n    let likedStr = '';\n    likedn.forEach(function (itm, idx) {\n        likedStr = likedStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + likedl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntLike').innerHTML = likedStr;\n    document.getElementById('crdLike').classList.remove('d-none');\n}\nfunction shwCrds(t, u) {\n    if ((u == null || u == '') && !gotFL) {\n        window.location.href = 'https://sciencecookies.net';\n    }\n    if (t == null || favn == null) t = 'prof';\n    if (gotFL == false) {\n        let getUserPublic = firebase.app().functions('us-east1').httpsCallable('getUserPublic');\n        getUserPublic(u).then(userPublic => {\n            userPublic = userPublic.data;\n            if (userPublic == null) {\n                document.getElementById('navBtnFav').classList.add('disabled');\n                document.getElementById('navBtnLike').classList.add('disabled');\n                document.getElementById('navBtnPrfl').classList.add('disabled');\n                document.getElementById('contEmail').classList.add('d-none');\n                document.getElementById('contPic').classList.add('d-none');\n                document.getElementById('contNull').innerHTML = '<div class=\"col\"><strong>Este perfíl no existe o es privado</strong></div>';\n                document.getElementById('crdPrfl').classList.remove('d-none');\n            } else {\n                favn = userPublic.favn;\n                favl = userPublic.favl;\n                likedn = userPublic.likedn;\n                likedl = userPublic.likedl;\n                points = userPublic.points;\n                rank = userPublic.rank;\n                visible = userPublic.visible;\n                vemail = userPublic.vemail;\n                vfl = userPublic.vfl;\n                ppic = userPublic.ppic;\n                pemail = userPublic.pemail;\n                pname = userPublic.pname;\n                if (favn == null) {\n                    document.getElementById('navBtnFav').classList.add('disabled');\n                    document.getElementById('navBtnLike').classList.add('disabled');\n                }\n                shwCrds2(t);\n            }\n        }).catch(err => { });\n        gotFL = true;\n    } else {\n        shwCrds2(t);\n    }\n}\nfunction shwCrds2(t) {\n    if (t == 'favs') {\n        if (favn == null) return;\n        document.getElementById('crdPrfl').classList.add('d-none');\n        document.getElementById('navBtnPrfl').classList.remove('active');\n        document.getElementById('crdLike').classList.add('d-none');\n        document.getElementById('navBtnLike').classList.remove('active');\n        shwFav();\n    } else {\n        if (t == 'likes') {\n            if (likedn == null) return;\n            document.getElementById('crdFav').classList.add('d-none');\n            document.getElementById('navBtnFav').classList.remove('active');\n            document.getElementById('crdPrfl').classList.add('d-none');\n            document.getElementById('navBtnPrfl').classList.remove('active');\n            shwLike();\n        } else {\n            document.getElementById('crdFav').classList.add('d-none');\n            document.getElementById('navBtnFav').classList.remove('active');\n            document.getElementById('crdLike').classList.add('d-none');\n            document.getElementById('navBtnLike').classList.remove('active');\n            shwPrfl();\n        }\n    }\n}"]}