{"mappings":"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","sources":["src/js/viewProf.js"],"sourcesContent":["//Global\nvar points, rank, gotFL = false;\nvar favn, favl, likedn, likedl;\nvar ppic, pname, pemail;\nvar visible, vmail, vfl;\n\nwindow.loaded = function loaded() {\n    shwCrds(urlSrch.get('tab'), urlSrch.get('user'));\n}\n\nfunction shwPrfl() {\n    document.getElementById('navBtnPrfl').classList.add('active');\n    firebase.storage().ref('ppics/' + urlSrch.get('u') + '/pp_200x200').getDownloadURL().then(url => {\n        if (ppic != null) document.getElementById('disPP').setAttribute('onerror', \"this.src='\" + ppic + \"'\");\n        else document.getElementById('disPP').setAttribute('onerror', \"this.src='https://via.placeholder.com/20.webp'\");\n        document.getElementById('disPP').src = url;\n        if (pemail != null) document.getElementById('contEmail').classList.remove('d-none');\n        document.getElementById('disMail').innerHTML = pemail;\n        document.getElementById('disName').innerHTML = pname;\n        document.getElementById('crdPrfl').classList.remove('d-none');\n    }).catch(err => {\n        if (ppic != null) document.getElementById('disPP').setAttribute('onerror', \"this.src='\" + ppic + \"'\");\n        else document.getElementById('disPP').setAttribute('onerror', \"https://via.placeholder.com/20.webp'\");\n        document.getElementById('disPP').src = '';\n        if (pemail != null) document.getElementById('contEmail').classList.remove('d-none');\n        document.getElementById('disMail').innerHTML = pemail;\n        document.getElementById('disName').innerHTML = pname;\n        document.getElementById('crdPrfl').classList.remove('d-none');\n    });\n}\nfunction shwFav() {\n    if (favn == null) return;\n    document.getElementById('navBtnFav').classList.add('active');\n    let favStr = '';\n    favn.forEach(function (itm, idx) {\n        favStr = favStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + favl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntFav').innerHTML = favStr;\n    document.getElementById('crdFav').classList.remove('d-none');\n}\nfunction shwLike() {\n    if (likedn == null) return;\n    document.getElementById('navBtnLike').classList.add('active');\n    let likedStr = '';\n    likedn.forEach(function (itm, idx) {\n        likedStr = likedStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + likedl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntLike').innerHTML = likedStr;\n    document.getElementById('crdLike').classList.remove('d-none');\n}\nfunction shwCrds(t, u) {\n    if ((u == null || u == '') && !gotFL) {\n        window.location.href = 'https://sciencecookies.net';\n    }\n    if (t == null || favn == null) t = 'prof';\n    if (gotFL == false) {\n        let getUserPublic = firebase.app().functions('us-east1').httpsCallable('getUserPublic');\n        getUserPublic(u).then(userPublic => {\n            userPublic = userPublic.data;\n            if (userPublic == null) {\n                document.getElementById('navBtnFav').classList.add('disabled');\n                document.getElementById('navBtnLike').classList.add('disabled');\n                document.getElementById('navBtnPrfl').classList.add('disabled');\n                document.getElementById('contEmail').classList.add('d-none');\n                document.getElementById('contPic').classList.add('d-none');\n                document.getElementById('contNull').innerHTML = '<div class=\"col\"><strong>Este perf√≠l no existe o es privado</strong></div>';\n                document.getElementById('crdPrfl').classList.remove('d-none');\n            } else {\n                favn = userPublic.favn;\n                favl = userPublic.favl;\n                likedn = userPublic.likedn;\n                likedl = userPublic.likedl;\n                points = userPublic.points;\n                rank = userPublic.rank;\n                visible = userPublic.visible;\n                vemail = userPublic.vemail;\n                vfl = userPublic.vfl;\n                ppic = userPublic.ppic;\n                pemail = userPublic.pemail;\n                pname = userPublic.pname;\n                if (favn == null) {\n                    document.getElementById('navBtnFav').classList.add('disabled');\n                    document.getElementById('navBtnLike').classList.add('disabled');\n                }\n                shwCrds2(t);\n            }\n        }).catch(err => { });\n        gotFL = true;\n    } else {\n        shwCrds2(t);\n    }\n}\nfunction shwCrds2(t) {\n    if (t == 'favs') {\n        if (favn == null) return;\n        document.getElementById('crdPrfl').classList.add('d-none');\n        document.getElementById('navBtnPrfl').classList.remove('active');\n        document.getElementById('crdLike').classList.add('d-none');\n        document.getElementById('navBtnLike').classList.remove('active');\n        shwFav();\n    } else {\n        if (t == 'likes') {\n            if (likedn == null) return;\n            document.getElementById('crdFav').classList.add('d-none');\n            document.getElementById('navBtnFav').classList.remove('active');\n            document.getElementById('crdPrfl').classList.add('d-none');\n            document.getElementById('navBtnPrfl').classList.remove('active');\n            shwLike();\n        } else {\n            document.getElementById('crdFav').classList.add('d-none');\n            document.getElementById('navBtnFav').classList.remove('active');\n            document.getElementById('crdLike').classList.add('d-none');\n            document.getElementById('navBtnLike').classList.remove('active');\n            shwPrfl();\n        }\n    }\n}"],"names":["$dbe90725b0d9a3ad180f3eea24f3981f$var$favn","$dbe90725b0d9a3ad180f3eea24f3981f$var$favl","$dbe90725b0d9a3ad180f3eea24f3981f$var$likedn","$dbe90725b0d9a3ad180f3eea24f3981f$var$likedl","$dbe90725b0d9a3ad180f3eea24f3981f$var$ppic","$dbe90725b0d9a3ad180f3eea24f3981f$var$pname","$dbe90725b0d9a3ad180f3eea24f3981f$var$pemail","$dbe90725b0d9a3ad180f3eea24f3981f$var$gotFL","$dbe90725b0d9a3ad180f3eea24f3981f$var$shwCrds2","t","document","getElementById","classList","add","remove","favStr","forEach","itm","idx","innerHTML","$dbe90725b0d9a3ad180f3eea24f3981f$var$shwFav","likedStr","$dbe90725b0d9a3ad180f3eea24f3981f$var$shwLike","firebase","storage","ref","urlSrch","get","getDownloadURL","then","url","setAttribute","src","catch","err","window","loaded","u","location","href","app","functions","httpsCallable","getUserPublic","userPublic","data","favn","favl","likedn","likedl","points","rank","visible","vemail","vfl","ppic","pemail","pname","$dbe90725b0d9a3ad180f3eea24f3981f$var$shwCrds"],"version":3,"file":"viewProf.js.map"}