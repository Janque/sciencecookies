{"mappings":"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","sources":["src/js/profile.js"],"sourcesContent":["//Global\nvar fav, liked, points, rank, gotFL = false;\nvar favn, favl, likedn, likedl;\nvar publicID;\nvar visible, vmail, vfl, rNews;\nvar lvisible, lvemail, lvfl, lrNews, prefChanges = false;\nvar fileForUp = null;\n\nwindow.loaded = function loaded() {\n    //Check auth\n    firebase.auth().onAuthStateChanged(function (user) {\n        if (user) {\n            document.getElementById('picUsr').setAttribute('onerror', \"this.src='https://via.placeholder.com/20.webp'\");\n            document.getElementById('picUsr').src = photoURL;\n            shwCrds(urlSrch.get('tab'));\n        } else {\n            $('#mdlRgstr').modal('show');\n        }\n    });\n    function send() {\n        displayName = document.getElementById('inNewNck').value;\n        firebase.auth().currentUser.updateProfile({\n            displayName: displayName,\n        }).then(function () {\n            db.collection('usersPublic').doc(publicID).update({\n                name: displayName,\n                pic: photoURL,\n                email: email,\n                favn: favn,\n                favl: favl,\n                likedn: likedn,\n                likedl: likedl,\n                points: points,\n                rank: rank,\n                visible: document.getElementById('inPubPrfl').checked,\n                vemail: document.getElementById('inPubEmail').checked,\n                vfl: document.getElementById('inPubFL').checked,\n            }).then(() => {\n                resetFrm();\n                document.getElementById('disName').innerHTML = newNk;\n            }).catch(err => { console.log(err) });\n        }).catch(function (err) { console.log(err) });\n    }\n    document.getElementById(\"frmChngNk\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        send();\n        $('#mdlCngNck').modal('hide');\n    });\n    function uptPref() {\n        db.collection('users').doc(uid).update({\n            visible: document.getElementById('inPubPrfl').checked,\n            vemail: document.getElementById('inPubEmail').checked,\n            vfl: document.getElementById('inPubFL').checked,\n            rNews: document.getElementById('inNews').checked,\n        }).then(() => {\n            if (rNews != lrNews) {\n                let newsRef = db.collection(\"newsletters\").doc(\"base\");\n                if (lrNews) {\n                    newsRef.update({\n                        emails: firebase.firestore.FieldValue.arrayUnion(email)\n                    });\n                } else {\n                    newsRef.update({\n                        emails: firebase.firestore.FieldValue.arrayRemove(email)\n                    });\n                }\n            }\n            visible = lvisible;\n            vemail = lvemail;\n            vfl = lvfl;\n            rNews = lrNews;\n            db.collection('usersPublic').doc(publicID).update({\n                name: displayName,\n                pic: photoURL,\n                email: email,\n                favn: favn,\n                favl: favl,\n                likedn: likedn,\n                likedl: likedl,\n                points: points,\n                rank: rank,\n                visible: document.getElementById('inPubPrfl').checked,\n                vemail: document.getElementById('inPubEmail').checked,\n                vfl: document.getElementById('inPubFL').checked,\n            }).then(() => { }).catch(err => { console.log(err) });\n        }).catch(err => { console.log(err) });\n    }\n    document.getElementById(\"frmPref\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        document.getElementById('btnCanPref').setAttribute('disabled', 'true');\n        document.getElementById('btnCnfPref').setAttribute('disabled', 'true');\n        uptPref();\n        if (lang == \"es\") {\n            alertTop(\"Se han guardado los cambios\", 1);\n        } else if (lang == \"en\") {\n            alertTop(\"Changes have been saved\", 1);\n        }\n    });\n    function uptPP(file) {\n        let ref = storage.ref('ppics/' + publicID + '/pp');\n        let task = ref.put(file);\n        task.on('state_changed',\n            function progress(snap) {\n                let progPer = (snap.bytesTransferred / snap.totalBytes) * 100;\n                document.getElementById('prBarDis').style['width'] = progPer + '%';\n            },\n            function error(err) {\n                resetFrm();\n                $('#mdlCngPP').modal('hide');\n                if (lang == \"es\") {\n                    alertTop(\"<strong>¡Ha ocurrido un error!</strong> Revisa que tu archivo cumpla los límites y sea una imagen e intenta de nuevo.\", 2);\n                } else if (lang == \"en\") {\n                    alertTop(\"<strong>¡There has been an error!</strong> Check that your file meets the limits and is an image and try again.\", 2);\n                }\n            },\n            function complete() {\n                document.getElementById('picUsr').src = document.getElementById(\"preVIn\").src;\n                document.getElementById('disPP').src = document.getElementById(\"preVIn\").src;\n                resetFrm();\n                $('#mdlCngPP').modal('hide');\n                ref.getDownloadURL().then(url => {\n                    url = url.replace('pp?', 'pp_200x200?');\n                    firebase.auth().currentUser.updateProfile({\n                        photoURL: url,\n                    }).then(() => {\n                        db.collection('usersPublic').doc(publicID).update({\n                            pic: url,\n                            email: email,\n                            favn: favn,\n                            favl: favl,\n                            likedn: likedn,\n                            likedl: likedl,\n                            points: points,\n                            rank: rank,\n                        }).then(() => { }).catch(err => { console.log(err) });\n                    }).catch(err => { console.log(err) });\n                }).catch(err => { console.log(err) });\n            }\n        );\n    }\n    document.getElementById(\"frmChngPP\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        document.getElementById(\"prBar\").classList.remove('d-none');\n        document.getElementById(\"frmChngPP\").classList.add('d-none');\n        document.getElementById(\"btnCnfNwPP\").classList.add('disabled');\n        document.getElementById(\"btnCanNwPP\").classList.add('disabled');\n        uptPP(fileForUp);\n    });\n    document.getElementById('inNwPP').addEventListener('change', function (e) {\n        fileForUp = e.target.files[0];\n        function prevImg() {\n            var read = new FileReader();\n            read.readAsDataURL(fileForUp);\n            read.onload = function (e2) {\n                document.getElementById(\"preVIn\").src = e2.target.result;\n            };\n        };\n        document.getElementById('inNwPPL').innerHTML = fileForUp.name;\n        prevImg(fileForUp);\n    });\n}\nfunction resetFrm() {\n    document.getElementById('inNewNck').value = '';\n    document.getElementById('inNwPP').value = '';\n    document.getElementById(\"preVIn\").src = '';\n    document.getElementById('inNwPPL').innerHTML = 'Elige una imagen';\n    document.getElementById(\"prBar\").classList.add('d-none');\n    document.getElementById(\"frmChngPP\").classList.remove('d-none');\n    document.getElementById(\"btnCnfNwPP\").classList.remove('disabled');\n    document.getElementById(\"btnCanNwPP\").classList.remove('disabled');\n}\n\nfunction setPrefBtns() {\n    if (prefChanges) {\n        document.getElementById('btnCanPref').disabled = false;\n        document.getElementById('btnCnfPref').disabled = false;\n    } else {\n        document.getElementById('btnCanPref').setAttribute('disabled', 'true');\n        document.getElementById('btnCnfPref').setAttribute('disabled', 'true');\n    }\n}\ndocument.getElementById('inPubPrfl').onclick = function () {\n    if (lvisible) {\n        document.getElementById('inPubEmail').setAttribute('disabled', 'true');\n        document.getElementById('inPubFL').setAttribute('disabled', 'true');\n        document.getElementById('inPubEmail').checked = false;\n        document.getElementById('inPubFL').checked = false;\n    } else {\n        document.getElementById('inPubEmail').disabled = false;\n        document.getElementById('inPubFL').disabled = false;\n        document.getElementById('inPubEmail').checked = lvemail;\n        document.getElementById('inPubFL').checked = lvfl;\n    }\n    lvisible = !lvisible;\n    prefChanges = !(document.getElementById('inPubPrfl').checked == visible && document.getElementById('inPubEmail').checked == vemail && document.getElementById('inPubFL').checked == vfl && document.getElementById('inNews').checked == rNews);\n    setPrefBtns();\n};\ndocument.getElementById('inPubEmail').onclick = function () {\n    lvemail = !lvemail;\n    prefChanges = !(document.getElementById('inPubPrfl').checked == visible && document.getElementById('inPubEmail').checked == vemail && document.getElementById('inPubFL').checked == vfl && document.getElementById('inNews').checked == rNews);\n    setPrefBtns();\n};\ndocument.getElementById('inPubFL').onclick = function () {\n    lvfl = !lvfl;\n    prefChanges = !(document.getElementById('inPubPrfl').checked == visible && document.getElementById('inPubEmail').checked == vemail && document.getElementById('inPubFL').checked == vfl && document.getElementById('inNews').checked == rNews);\n    setPrefBtns();\n};\ndocument.getElementById('inNews').onclick = function () {\n    lrNews = !lrNews;\n    prefChanges = !(document.getElementById('inPubPrfl').checked == visible && document.getElementById('inPubEmail').checked == vemail && document.getElementById('inPubFL').checked == vfl && document.getElementById('inNews').checked == rNews);\n    setPrefBtns();\n};\n\nfunction shwPrfl() {\n    document.getElementById('navBtnPrfl').classList.add('active');\n    document.getElementById('disPP').setAttribute('onerror', \"this.src='https://via.placeholder.com/20.webp'\");\n    document.getElementById('disPP').src = photoURL;\n    document.getElementById('disMail').innerHTML = email;\n    document.getElementById('disName').innerHTML = displayName;\n    document.getElementById('crdPrfl').classList.remove('d-none');\n}\nfunction shwFav() {\n    document.getElementById('navBtnFav').classList.add('active');\n    let favStr = '';\n    favn.forEach(function (itm, idx) {\n        favStr = favStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + favl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntFav').innerHTML = favStr;\n    document.getElementById('crdFav').classList.remove('d-none');\n}\nfunction shwLike() {\n    document.getElementById('navBtnLike').classList.add('active');\n    let likedStr = '';\n    likedn.forEach(function (itm, idx) {\n        likedStr = likedStr + '<li class=\"list-group-item text-light border-light bg-transparent\"><a class=\"text-decoration-none text-light\" href=\"galletas/' + likedl[idx] + '\">' + itm + ' <i class=\"fas fa-link\"></i></a></li>';\n    });\n    document.getElementById('cntLike').innerHTML = likedStr;\n    document.getElementById('crdLike').classList.remove('d-none');\n}\nfunction shwPref() {\n    document.getElementById('navBtnPref').classList.add('active');\n    document.getElementById('inPubPrfl').checked = visible;\n    if (visible) {\n        document.getElementById('inPubEmail').disabled = false;\n        document.getElementById('inPubFL').disabled = false;\n        document.getElementById('inPubEmail').checked = vemail;\n        document.getElementById('inPubFL').checked = vfl;\n    } else {\n        document.getElementById('inPubEmail').setAttribute('disabled', 'true');\n        document.getElementById('inPubFL').setAttribute('disabled', 'true');\n        document.getElementById('inPubEmail').checked = false;\n        document.getElementById('inPubFL').checked = false;\n    }\n    document.getElementById('inNews').checked = rNews;\n    lvisible = visible;\n    lvemail = vemail;\n    lvfl = vfl;\n    lrNews = rNews;\n    prefChanges = false;\n    setPrefBtns();\n    document.getElementById('crdPref').classList.remove('d-none');\n}\nfunction shwCrds(t) {\n    if (gotFL == false) {\n        db.collection('users').doc(uid).get().then(function (doc) {\n            fav = doc.data().fav;\n            liked = doc.data().liked;\n            favn = doc.data().favn;\n            favl = doc.data().favl;\n            likedn = doc.data().likedn;\n            likedl = doc.data().likedl;\n            points = doc.data().points;\n            rank = doc.data().rank;\n            publicID = doc.data().publicID;\n            visible = doc.data().visible;\n            vemail = doc.data().vemail;\n            vfl = doc.data().vfl;\n            lvisible = doc.data().visible;\n            lvemail = doc.data().vmail;\n            lvfl = doc.data().vfl;\n            rNews = doc.data().rNews;\n            lrNews = doc.data().rNews;\n            shwCrds2(t);\n        }).catch(function (err) { console.log(err) });\n        gotFL = true;\n    } else {\n        shwCrds2(t);\n    }\n}\nfunction shwCrds2(t) {\n    if (t == 'pref') {\n        document.getElementById('crdFav').classList.add('d-none');\n        document.getElementById('navBtnFav').classList.remove('active');\n        document.getElementById('crdLike').classList.add('d-none');\n        document.getElementById('navBtnLike').classList.remove('active');\n        document.getElementById('crdPrfl').classList.add('d-none');\n        document.getElementById('navBtnPrfl').classList.remove('active');\n        shwPref();\n    } else {\n        if (t == 'favs') {\n            document.getElementById('crdPrfl').classList.add('d-none');\n            document.getElementById('navBtnPrfl').classList.remove('active');\n            document.getElementById('crdLike').classList.add('d-none');\n            document.getElementById('navBtnLike').classList.remove('active');\n            document.getElementById('crdPref').classList.add('d-none');\n            document.getElementById('navBtnPref').classList.remove('active');\n            shwFav();\n        } else {\n            if (t == 'likes') {\n                document.getElementById('crdFav').classList.add('d-none');\n                document.getElementById('navBtnFav').classList.remove('active');\n                document.getElementById('crdPrfl').classList.add('d-none');\n                document.getElementById('navBtnPrfl').classList.remove('active');\n                document.getElementById('crdPref').classList.add('d-none');\n                document.getElementById('navBtnPref').classList.remove('active');\n                shwLike();\n            } else {\n                /*if(t=='notif'){\n                    @#NOTIFICACIONES\n                }*/\n                document.getElementById('crdFav').classList.add('d-none');\n                document.getElementById('navBtnFav').classList.remove('active');\n                document.getElementById('crdLike').classList.add('d-none');\n                document.getElementById('navBtnLike').classList.remove('active');\n                document.getElementById('crdPref').classList.add('d-none');\n                document.getElementById('navBtnPref').classList.remove('active');\n                shwPrfl();\n                //}\n            }\n        }\n    }\n}"],"names":["$29ba8aab11703d0f6e9532e7b8266c0d$var$points","$29ba8aab11703d0f6e9532e7b8266c0d$var$rank","$29ba8aab11703d0f6e9532e7b8266c0d$var$favn","$29ba8aab11703d0f6e9532e7b8266c0d$var$favl","$29ba8aab11703d0f6e9532e7b8266c0d$var$likedn","$29ba8aab11703d0f6e9532e7b8266c0d$var$likedl","$29ba8aab11703d0f6e9532e7b8266c0d$var$publicID","$29ba8aab11703d0f6e9532e7b8266c0d$var$visible","$29ba8aab11703d0f6e9532e7b8266c0d$var$vfl","$29ba8aab11703d0f6e9532e7b8266c0d$var$rNews","$29ba8aab11703d0f6e9532e7b8266c0d$var$lvisible","$29ba8aab11703d0f6e9532e7b8266c0d$var$lvemail","$29ba8aab11703d0f6e9532e7b8266c0d$var$lvfl","$29ba8aab11703d0f6e9532e7b8266c0d$var$lrNews","$29ba8aab11703d0f6e9532e7b8266c0d$var$gotFL","$29ba8aab11703d0f6e9532e7b8266c0d$var$prefChanges","$29ba8aab11703d0f6e9532e7b8266c0d$var$fileForUp","$29ba8aab11703d0f6e9532e7b8266c0d$var$resetFrm","document","getElementById","value","src","innerHTML","classList","add","remove","$29ba8aab11703d0f6e9532e7b8266c0d$var$setPrefBtns","disabled","setAttribute","$29ba8aab11703d0f6e9532e7b8266c0d$var$shwCrds2","t","checked","vemail","favStr","forEach","itm","idx","$29ba8aab11703d0f6e9532e7b8266c0d$var$shwFav","likedStr","$29ba8aab11703d0f6e9532e7b8266c0d$var$shwLike","photoURL","email","displayName","window","loaded","firebase","auth","onAuthStateChanged","user","urlSrch","get","db","collection","doc","uid","then","data","fav","liked","favn","favl","likedn","likedl","points","rank","publicID","visible","vfl","vmail","rNews","catch","err","console","log","$","modal","addEventListener","event","preventDefault","currentUser","updateProfile","update","name","pic","newNk","newsRef","emails","firestore","FieldValue","arrayUnion","arrayRemove","lang","alertTop","file","ref","storage","put","on","snap","progPer","bytesTransferred","totalBytes","style","getDownloadURL","url","replace","uptPP","e","read","target","files","FileReader","readAsDataURL","onload","e2","result","onclick"],"version":3,"file":"profile.js.map"}