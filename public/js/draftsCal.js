!function(){window.loaded=function(){d(!1)};var e=!1,t=[null],n=1;function d(d){n>1&&d&&null!=t[n-1]&&null!=t[n-1]?srchRef=calendarsFSRef.orderBy("published","desc").startAfter(t[n-1]).limit(21):srchRef=calendarsFSRef.orderBy("published","desc").limit(21),document.getElementById("crdContainer").innerHTML="",srchRef.get().then((d=>{let l=d.docs;e=!1,l.forEach(((d,c)=>{let i=d.data(),s=document.createElement("col");classes(s,"col"),classes(s,"mb-4");let a=document.createElement("div");classes(a,"card text-dark bg-light h-100 cardBorder"),i.public?classes(a,"border-success"):classes(a,"border-secondary");let o=document.createElement("div");classes(o,"card-header bg-light m-0 py-0 text-right");let r=document.createElement("div");if(classes(r,"row"),classes(r,"justify-content-between"),!i.public){let e=document.createElement("div");classes(e,"col-auto"),classes(e,"p-0");let t=document.createElement("span");classes(t,"badge"),classes(t,"badge-warning"),t.innerText="Pendiente",e.appendChild(t),r.appendChild(e)}let u=document.createElement("div");classes(u,"col-auto"),classes(u,"p-0"),classes(u,"ml-auto");let m=document.createElement("div");classes(m,"dropdown");let p=document.createElement("button");classes(p,"btn"),classes(p,"btn-light"),p.setAttribute("type","button"),p.setAttribute("data-toogle","dropdown"),p.setAttribute("aria-haspopup","true"),p.setAttribute("aria-expanded","false"),p.innerHTML='<i class="fas fa-ellipsis-h"></i>',p.onclick=function(){document.getElementById("drpMenu"+d.id).classList.contains("show")?$("#drpMenu"+d.id).dropdown("hide"):($("#drpMenu"+d.id).dropdown("show"),setTimeout((function(){$("#drpMenu"+d.id).dropdown("hide")}),5e3))},m.appendChild(p);let g=document.createElement("div");classes(g,"dropdown-menu"),classes(g,"dropdown-menu-right"),g.setAttribute("id","drpMenu"+d.id);let h=document.createElement("button");classes(h,"dropdown-item"),h.onclick=function(){"es"==lang?window.location.href="../editar-calendario?id="+d.id:"en"==lang&&(window.location.href="../edit-calendar?id="+d.id)},h.innerHTML='Editar <i class="fas fa-edit"></i>',g.appendChild(h);let b=document.createElement("button");classes(b,"dropdown-item"),b.onclick=function(){window.open("../vista-email-calendario/"+d.id,"_blank").focus()},b.innerHTML='Vista correo <i class="fas fa-envelope"></i>',g.appendChild(b);let E,f=document.createElement("button");i.public&&(classes(f,"dropdown-item"),f.onclick=function(){window.open(i.url,"_blank").focus()},f.innerHTML='Ver calendario <i class="fas fa-eye"></i>',g.appendChild(f)),m.appendChild(g),u.appendChild(m),r.appendChild(u),o.appendChild(r),a.appendChild(o),"es"==lang?E="No hay imagen":"en"==lang&&(E="No image");let B=document.createElement("a");"es"==lang?B.href="../editar-calendario?id="+d.id:"en"==lang&&(B.href="../edit-calendar?id="+d.id),classes(B,"text-decoration-none"),classes(B,"text-dark");let y=document.createElement("img");y.src=i.picUrl,classes(y,"card-img-top"),y.alt=E,B.appendChild(y);let w=document.createElement("div");classes(w,"card-body"),w.innerHTML='<h3 class="card-title">'+i.title+'</h3>\n<p class="card-text">'+i.description+"</p>\n",B.appendChild(w),a.appendChild(B),s.appendChild(a),document.getElementById("crdContainer").appendChild(s),20==c&&(null==t[n]||null==t[n]?t.push(l[l.length-1]):t[n]!=l[l.length-1]&&t.splice(n,1,l[l.length-1]),e=!0,document.getElementById("pgNavT").classList.remove("d-none"),document.getElementById("pgNavB").classList.remove("d-none"))})),e?(document.getElementById("pgTNxt").removeAttribute("disabled"),document.getElementById("pgBNxt").removeAttribute("disabled")):(document.getElementById("pgTNxt").setAttribute("disabled","true"),document.getElementById("pgBNxt").setAttribute("disabled","true")),1==n?(document.getElementById("pgTPrv").setAttribute("disabled","true"),document.getElementById("pgBPrv").setAttribute("disabled","true")):(document.getElementById("pgTPrv").removeAttribute("disabled"),document.getElementById("pgBPrv").removeAttribute("disabled"))})).catch((e=>{console.log(e)}))}function l(t){n<1&&-1==t||(e||1!=t)&&(n+=t,document.getElementById("disPgT").innerText=n,document.getElementById("disPgB").innerText=n,d(!0),document.getElementById("cookCnt").scrollIntoView())}document.getElementById("pgTPrv").onclick=function(){l(-1)},document.getElementById("pgBPrv").onclick=function(){l(-1)},document.getElementById("pgTNxt").onclick=function(){l(1)},document.getElementById("pgBNxt").onclick=function(){l(1)}}();
//# sourceMappingURL=draftsCal.js.map
