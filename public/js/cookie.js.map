{"mappings":"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","sources":["src/js/cookie.js"],"sourcesContent":["var cookRef = null;\nvar pubID;\nvar replying = -1;\n\nwindow.loaded = function loaded() {\n    cookRef = firebase.database().ref('galletas/' + id);\n    console.log(cRef)\n    cookRef.on('value', snap => {\n        if (snap.val()) {\n            document.getElementById('favCount').innerText = snap.val().favs;\n            document.getElementById('likeCount').innerText = snap.val().likes;\n        }\n    });\n    cookRef.transaction(cook => {\n        if (cook) {\n            cook.pop++;\n        }\n        return cook;\n    });\n    firebase.database().ref('uptCook/' + id).set(\"true\").then(() => { }).catch(err => console.error('err'));\n\n    function sendRep() {\n        db.collection('reports').add({\n            from: email,\n            reason: document.getElementById('inReas').value,\n            comm: reporting,\n            mess: document.getElementById('inText').value,\n        }).then(function () {\n            if (lang == \"es\") {\n                alertTop(\"Gracias por tu reporte, lo revisaremos lo antes posible.\", 2);\n            } else if (lang == \"en\") {\n                alertTop(\"Thank you for your report, we will review it as soon as posible.\", 2);\n            }\n            $('#mdlRprt').modal('hide');\n        }).catch(function (err) {\n            console.log('err');\n            if (lang == \"es\") {\n                alertTop(\"Ha ocurrido un error, por favor intenta nuevamente.\", 0);\n            } else if (lang == \"en\") {\n                alertTop(\"There has been an error, please try again.\", 0);\n            }\n            $('#mdlRprt').modal('hide');\n        })\n    }\n    document.getElementById(\"frmRprt\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        if (actSsn) sendRep();\n    });\n    function sendNwCom() {\n        var addComment = firebase.app().functions('us-east1').httpsCallable('addComment');\n        let comFrm = {\n            id: id,\n            from: displayName,\n            pic: photoURL,\n            authKey: pubID,\n            to: replying,\n            text: document.getElementById('inNwCom').value,\n        };\n        addComment(comFrm).then(comres => {\n            if (comres.data.res == -1) {\n                if (lang == \"es\") {\n                    alertTop(\"Ha ocurrido un error, por favor intenta nuevamente.\", 0);\n                } else if (lang == \"en\") {\n                    alertTop(\"There has been an error, please try again.\", 0);\n                }\n                $('#mdlRprt').modal('hide');\n            } else {\n                if (comres.data.res == -2) {\n                    drwComs(comNum);\n                    let bdate = new Date(comres.data.blc._seconds * 1000);\n                    let dstr = bdate.getDate() + '/' + (bdate.getMonth() + 1) + '/' + bdate.getFullYear();\n                    if (lang == \"es\") {\n                        alertTop(\"No puedes comentar. Un moderador te ha bloqueado hasta \" + dstr, 0);\n                    } else if (lang == \"en\") {\n                        alertTop(\"You cannot comment. A moderator has blocked you until \" + dstr, 0);\n                    }\n                    $('#mdlRprt').modal('hide');\n                } else {\n                    if (comres.data.res == 0) {\n                        comList[comres.data.pos] = comres.data.com;\n                        comNum++;\n                    } else {\n                        comList[comres.data.pos].reps.push(comres.data.com);\n                    }\n                    comCount++;\n                    drwComs(comNum);\n                    if (lang == \"es\") {\n                        alertTop(\"Se ha publicado tu comentario\", 1);\n                    } else if (lang == \"en\") {\n                        alertTop(\"Your comment has been published\", 1);\n                    }\n                    $('#mdlRprt').modal('hide');\n                }\n            }\n            replying = -1;\n            document.getElementById('frmNwComBtns').classList.add('d-none');\n            document.getElementById('inNwCom').setAttribute('placeholder', 'Nuevo comentario');\n            document.getElementById('btnAddCom').innerHTML = 'Comentar';\n            document.getElementById('btnCanCom').classList.remove('disabled');\n            document.getElementById('btnAddCom').classList.remove('disabled');\n            document.getElementById('inNwCom').value = '';\n        }).catch(err => { console.log('err') });\n    }\n    document.getElementById(\"frmNwCom\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        if (actSsn) {\n            document.getElementById('btnAddCom').classList.add('disabled');\n            document.getElementById('btnCanCom').classList.add('disabled');\n            document.getElementById('btnAddCom').innerHTML = '<div class=\"spinner-border\" role=\"status\"><span class=\"sr-only\">Loading...</span></div>';\n            sendNwCom();\n        }\n    });\n}\n\ndocument.getElementById('btnFav').onclick = function () {\n    if (actSsn) {\n        db.collection('users').doc(uid).get().then(function (doc) {\n            let fav = doc.data().fav;\n            let favn = doc.data().favn;\n            let favl = doc.data().favn;\n            let liked = doc.data().liked;\n            let likedn = doc.data().likedn;\n            let likedl = doc.data().likedl;\n            let ifav = fav.indexOf(id);\n            let iliked = liked.indexOf(id);\n            let npop = 0, nlik = 0, nfav = 0;\n            if (ifav != -1) {\n                fav.splice(ifav, 1);\n                favn.splice(favn.indexOf(cTitle), 1);\n                favl.splice(favl.indexOf(cRef), 1);\n                document.getElementById('btnFav').innerText = 'Añadir a favoritos';\n                document.getElementById('btnFavTxt').classList.remove('fas');\n                document.getElementById('btnFavTxt').classList.add('far');\n                document.getElementById('btnFav').classList.remove('btn-light');\n                document.getElementById('btnFav').classList.add('btn-outline-light');\n                npop = -20;\n                nfav = -1;\n            }\n            else {\n                fav.push(id);\n                favn.push(cTitle);\n                favl.push(cRef);\n                if (iliked == -1) {\n                    liked.push(id);\n                    likedn.push(cTitle);\n                    likedl.push(cRef);\n                    npop = 30;\n                    nlik = 1;\n                    document.getElementById('btnLike').innerText = 'Me gusta';\n                    document.getElementById('btnLikeTxt').classList.add('fas');\n                    document.getElementById('btnLikeTxt').classList.remove('far');\n                    document.getElementById('btnLike').classList.remove('btn-outline-light');\n                    document.getElementById('btnLike').classList.add('btn-light');\n                }\n                else npop = 20;\n                nfav = 1;\n                document.getElementById('btnFav').innerText = 'En mis favoritos';\n                document.getElementById('btnFavTxt').classList.remove('far');\n                document.getElementById('btnFavTxt').classList.add('fas');\n                document.getElementById('btnFav').classList.remove('btn-outline-light');\n                document.getElementById('btnFav').classList.add('btn-light');\n            }\n            return db.collection('users').doc(uid).update({\n                fav: fav,\n                liked: liked,\n                favn: favn,\n                favl: favl,\n                likedn: likedn,\n                likedl: likedl,\n            });\n        }).then(() => {\n            return db.collection('usersPublic').doc(pubID).update({\n                name: displayName,\n                pic: photoURL,\n                email: email,\n                favn: favn,\n                favl: favl,\n                likedn: likedn,\n                likedl: likedl,\n            });\n        }).then(() => {\n            cookRef.transaction(cook => {\n                if (cook) {\n                    cook.pop += npop;\n                    cook.likes += nlik;\n                    cook.favs += nfav;\n                }\n                return cook;\n            });\n        }).catch(function (err) { console.log('err') });\n    } else {\n        document.getElementById('mdlRgsL').innerHTML = 'Debes iniciar sesión o registrarte para continuar';\n        $('#mdlRgstr').modal('show');\n    }\n};\ndocument.getElementById('btnLike').onclick = function () {\n    if (actSsn) {\n        db.collection('users').doc(uid).get().then(function (doc) {\n            let fav = doc.data().fav;\n            let favn = doc.data().favn;\n            let favl = doc.data().favn;\n            let liked = doc.data().liked;\n            let likedn = doc.data().likedn;\n            let likedl = doc.data().likedl;\n            let ifav = fav.indexOf(id);\n            let iliked = liked.indexOf(id);\n            let npop = 0, nlik = 0, nfav = 0;\n            if (iliked == -1) {\n                liked.push(id);\n                likedn.push(cTitle);\n                likedl.push(cRef);\n                npop = 10;\n                nlik = 1;\n                document.getElementById('btnLike').innerText = 'Me gusta';\n                document.getElementById('btnLikeTxt').classList.add('fas');\n                document.getElementById('btnLikeTxt').classList.remove('far');\n                document.getElementById('btnLike').classList.remove('btn-outline-light');\n                document.getElementById('btnLike').classList.add('btn-light');\n            }\n            else {\n                liked.splice(iliked, 1);\n                likedn.splice(likedn.indexOf(cTitle), 1);\n                likedl.splice(likedl.indexOf(cRef), 1);\n                if (ifav == -1) npop = -10;\n                else {\n                    fav.splice(ifav, 1);\n                    favn.splice(favn.indexOf(cTitle), 1);\n                    favl.splice(favl.indexOf(cRef), 1);\n                    npop = -30;\n                    nfav = -1;\n                    document.getElementById('btnFav').innerText = 'Añadir a favoritos';\n                    document.getElementById('btnFavTxt').classList.remove('fas');\n                    document.getElementById('btnFavTxt').classList.add('far');\n                    document.getElementById('btnFav').classList.remove('btn-light');\n                    document.getElementById('btnFav').classList.add('btn-outline-light');\n                }\n                nlik = -1;\n                document.getElementById('btnLike').innerText = 'Dar me gusta';\n                document.getElementById('btnLikeTxt').classList.add('far');\n                document.getElementById('btnLikeTxt').classList.remove('fas');\n                document.getElementById('btnLike').classList.remove('btn-light');\n                document.getElementById('btnLike').classList.add('btn-outline-light');\n            }\n        }).then(() => {\n            return db.collection('users').doc(uid).update({\n                fav: fav,\n                liked: liked,\n                favn: favn,\n                favl: favl,\n                likedn: likedn,\n                likedl: likedl,\n            });\n        }).then(() => {\n            return db.collection('usersPublic').doc(pubID).update({\n                name: displayName,\n                pic: photoURL,\n                email: email,\n                favn: favn,\n                favl: favl,\n                likedn: likedn,\n                likedl: likedl,\n            });\n        }).then(() => {\n            cookRef.transaction(cook => {\n                if (cook) {\n                    cook.pop += npop;\n                    cook.likes += nlik;\n                    cook.favs += nfav;\n                }\n                return cook;\n            });\n        }).catch(function (err) { console.log('err') });\n    } else {\n        document.getElementById('mdlRgsL').innerHTML = 'Debes iniciar sesión o registrarte para continuar';\n        $('#mdlRgstr').modal('show');\n    }\n};\n$('#mdlRgstr').on('hidden.bs.modal', function (e) {\n    document.getElementById('mdlRgsL').innerHTML = 'Inicia sesión o regístrate';\n});\n\ndocument.getElementById('inNwCom').onfocus = function () {\n    if (actSsn) {\n        document.getElementById('frmNwComBtns').classList.remove('d-none');\n    } else {\n        document.getElementById('mdlRgsL').innerHTML = 'Inicia sesión o regístrate para continuar';\n        $('#mdlRgstr').modal('show');\n    }\n};\n\nvar comList = [], comNum = 5, comCount = 0;\nvar reporting = null;\nfunction report(r) {\n    if (actSsn) {\n        reporting = r;\n        $('#mdlRprt').modal('show');\n    } else {\n        document.getElementById('mdlRgsL').innerHTML = 'Inicia sesión o regístrate para continuar';\n        $('#mdlRgstr').modal('show');\n    }\n}\nfunction reply(r) {\n    replying = r;\n    document.getElementById('btnsFL').scroll({ behavior: 'smooth' });\n    document.getElementById('inNwCom').setAttribute('placeholder', 'Nueva respuesta');\n    document.getElementById('inNwCom').focus();\n}\n/*function likeCom(p,s){\n    if(s==null){\n        @#NOT IMPLEMENTED\n        @#EXPENSIVE?\n    }\n}*/\n\ndocument.getElementById('btnLdComs').onclick = function () {\n    document.getElementById('btnLdComs').classList.add('d-none');\n    document.getElementById('spnCom').classList.remove('d-none');\n    cookiesFSRef.doc(id).collection('coms').doc('1').get().then(doc => {\n        if (doc.exists) {\n            comList = doc.data().coms;\n            comCount = doc.data().comCount;\n            drwComs(comNum);\n        } else {\n            document.getElementById('spnCom').classList.add('d-none');\n            document.getElementById('cntComs').classList.remove('d-none');\n            document.getElementById('cntComs2').classList.remove('d-none');\n        }\n    }).catch(err => { console.log('err') });\n};\n\nfunction drwComs(num) {\n    document.getElementById('btnLdMrComs').classList.add('d-none');\n    document.getElementById('cntComs2').innerHTML = '';\n    document.getElementById('comCount').innerHTML = comCount + ' comentario';\n    if (comCount != 1) document.getElementById('comCount').innerHTML += 's';\n    for (let i = 1; i <= num; i++) {\n        if (i > comList.length) break;\n        if (comList[comList.length - i] == null) continue;\n        document.getElementById('cntComs2').appendChild(createCom(comList[comList.length - i]));\n    }\n    if (comList.length > num) document.getElementById('btnLdMrComs').classList.remove('d-none');\n    document.getElementById('spnCom').classList.add('d-none');\n    document.getElementById('cntComs').classList.remove('d-none');\n    document.getElementById('cntComs2').classList.remove('d-none');\n}\n\nfunction createCom(comDat) {\n    let cont = document.createElement('div');\n    cont.classList.add('container-fluid');\n    cont.classList.add('bg-light');\n    cont.classList.add('rounded-lg');\n    cont.classList.add('p-2');\n    cont.classList.add('mb-1');\n    let head = document.createElement('div');\n    head.classList.add('row');\n    head.classList.add('justify-content-between');\n    let usr = document.createElement('div');\n    usr.classList.add('col-auto');\n    let a = document.createElement('a');\n    a.classList.add('text-decoration-none');\n    a.classList.add('text-dark');\n    a.href = '../../ver-perfil?user=' + comDat.authKey;\n    a.innerHTML = '<img src=\"' + comDat.pic + '\" alt=\"\" class=\"rounded-circle mr-2\" height=\"35\" width=\"35\" onerror=\"this.src=`https://via.placeholder.com/20.webp`\">' + comDat.from;\n    usr.appendChild(a);\n    head.appendChild(usr);\n    let rprt = document.createElement('div');\n    rprt.classList.add('col-auto');\n    rprt.classList.add('dropleft');\n    let btnRprt = document.createElement('button');\n    btnRprt.classList.add('btn');\n    btnRprt.classList.add('btn-light');\n    btnRprt.setAttribute('data-toggle', 'dropdown');\n    btnRprt.setAttribute('aria-haspopup', 'true');\n    btnRprt.setAttribute('aria-expanded', 'false');\n    btnRprt.innerHTML = '<i class=\"fas fa-ellipsis-h\"></i>';\n    rprt.appendChild(btnRprt);\n    let drpRprt = document.createElement('div');\n    drpRprt.classList.add('dropdown-menu');\n    drpRprt.classList.add('border-0');\n    let aux = id + 'c' + comDat.id;\n    aux = (\"'\").concat(aux).concat(\"'\");\n    drpRprt.innerHTML = '<button class=\"dropdown-item\" onclick=\"report(' + aux + ');\"><i class=\"fas fa-flag\"></i> Reportar</button>';\n    rprt.appendChild(drpRprt);\n    head.appendChild(rprt);\n    let bod = document.createElement('div');\n    bod.classList.add('row');\n    bod.classList.add('pl-3');\n    bod.classList.add('pr-2');\n    let p = document.createElement('p');\n    p.innerText = comDat.text;\n    bod.appendChild(p);\n    let foot = document.createElement('div');\n    foot.classList.add('row');\n    let btns = document.createElement('div');\n    btns.classList.add('col-auto');\n    let btn = document.createElement('button');\n    /*@#btn.classList.add('btn');\n    btn.classList.add('btn-light');\n    btn.classList.add('mr-3');\n    btn.innerHTML='<i class=\"far fa-thumbs-up\"></i> '+comDat.likes;\n    btn.setAttribute('id',comDat.id);\n    btn.setAttribute('onclick','likeCom('+comDat.id+')');\n    btns.appendChild(btn);\n    btn=document.createElement('button');*/\n    btn.classList.add('btn');\n    btn.classList.add('btn-scckie');\n    btn.classList.add('mr-3');\n    btn.setAttribute('onclick', 'reply(' + comDat.id + ')');\n    btn.innerHTML = 'Responder';\n    btns.appendChild(btn);\n    if (comDat.reps.length > 0) {\n        btn = document.createElement('button');\n        btn.classList.add('btn');\n        btn.classList.add('btn-link-scckie');\n        btn.setAttribute('onclick', 'document.getElementById(\"' + comDat.id + 'Reps\").classList.toggle(\"d-none\")');\n        btn.innerHTML = 'Respuestas <i class=\"fas fa-caret-down\"></i>';\n        btns.appendChild(btn);\n    }\n    foot.appendChild(btns);\n    cont.appendChild(head);\n    cont.appendChild(bod);\n    cont.appendChild(foot);\n    let reps = document.createElement('div');\n    reps.classList.add('row');\n    reps.classList.add('pl-4');\n    reps.classList.add('pt-2');\n    reps.classList.add('d-none');\n    reps.setAttribute('id', comDat.id + 'Reps');\n    for (let i = 0; i < comDat.reps.length; i++) {\n        let rep = document.createElement('div');\n        rep.classList.add('col-11');\n        rep.classList.add('p-2');\n        rep.classList.add('rounded-lg');\n        rep.classList.add('mb-1');\n        rep.classList.add('ml-auto');\n        rep.classList.add('mr-2');\n        rep.classList.add('border');\n        let rHd = document.createElement('div');\n        rHd.classList.add('row');\n        rHd.classList.add('justify-content-between');\n        let rusr = document.createElement('div');\n        rusr.classList.add('col-auto');\n        let ra = document.createElement('a');\n        ra.classList.add('text-decoration-none');\n        ra.classList.add('text-dark');\n        ra.href = '../../ver-perfil?user=' + comDat.reps[i].authKey;\n        ra.innerHTML = '<img src=\"' + comDat.reps[i].pic + '\" alt=\"\" class=\"rounded-circle mr-2\" height=\"35\" width=\"35\" onerror=\"this.src=`https://via.placeholder.com/20.webp`\">' + comDat.reps[i].from;\n        rusr.appendChild(ra);\n        rHd.appendChild(rusr);\n        let rrprt = document.createElement('div');\n        rrprt.classList.add('col-auto');\n        rrprt.classList.add('dropleft');\n        let rbtnRprt = document.createElement('button');\n        rbtnRprt.classList.add('btn');\n        rbtnRprt.classList.add('btn-light');\n        rbtnRprt.setAttribute('data-toggle', 'dropdown');\n        rbtnRprt.setAttribute('aria-haspopup', 'true');\n        rbtnRprt.setAttribute('aria-expanded', 'false');\n        rbtnRprt.innerHTML = '<i class=\"fas fa-ellipsis-h\"></i>';\n        rrprt.appendChild(rbtnRprt);\n        let rdrpRprt = document.createElement('div');\n        rdrpRprt.classList.add('dropdown-menu');\n        rdrpRprt.classList.add('border-0');\n        let raux = id + 'c' + comDat.id + 'r' + comDat.reps[i].id;\n        raux = (\"'\").concat(raux).concat(\"'\");\n        rdrpRprt.innerHTML = '<button class=\"dropdown-item\" onclick=\"report(' + raux + ');\"><i class=\"fas fa-flag\"></i> Reportar</button>';\n        rrprt.appendChild(rdrpRprt);\n        rHd.appendChild(rrprt);\n        let rbod = document.createElement('div');\n        rbod.classList.add('row');\n        rbod.classList.add('pl-3');\n        rbod.classList.add('pr-2');\n        let rp = document.createElement('p');\n        rp.innerText = comDat.reps[i].text;\n        rbod.appendChild(rp);\n        /*@#let rfoot=document.createElement('div');\n        rfoot.classList.add('row');\n        let rbtns=document.createElement('div');\n        rbtns.classList.add('col-auto');\n        let rbtn=document.createElement('button');\n        rbtn.classList.add('btn');\n        rbtn.classList.add('btn-light');\n        rbtn.classList.add('mr-3');\n        rbtn.innerHTML='<i class=\"far fa-thumbs-up\"></i> '+comDat.reps[i].likes;\n        rbtn.setAttribute('id',comDat.id+'r'+comDat.reps[i].id);\n        rbtn.setAttribute('onclick','likeCom('+comDat.id+','+comDat.reps[i].id+')');\n        rbtns.appendChild(rbtn);\n        rfoot.appendChild(rbtns);*/\n        rep.appendChild(rHd);\n        rep.appendChild(rbod);\n        //rep.appendChild(rfoot);\n        reps.appendChild(rep);\n    }\n    cont.appendChild(reps);\n    return cont;\n}"],"names":["$648e0fd9af943e45184fd26814d8faa8$var$pubID","$648e0fd9af943e45184fd26814d8faa8$var$cookRef","$648e0fd9af943e45184fd26814d8faa8$var$replying","window","loaded","firebase","database","ref","id","console","log","cRef","on","snap","val","document","getElementById","innerText","favs","likes","transaction","cook","pop","set","then","catch","err","error","addEventListener","event","preventDefault","actSsn","db","collection","add","from","email","reason","value","comm","$648e0fd9af943e45184fd26814d8faa8$var$reporting","mess","lang","alertTop","$","modal","classList","innerHTML","app","functions","httpsCallable","addComment","displayName","pic","photoURL","authKey","to","text","comres","data","res","$648e0fd9af943e45184fd26814d8faa8$var$drwComs","$648e0fd9af943e45184fd26814d8faa8$var$comNum","bdate","Date","blc","_seconds","dstr","getDate","getMonth","getFullYear","$648e0fd9af943e45184fd26814d8faa8$var$comList","pos","com","reps","push","$648e0fd9af943e45184fd26814d8faa8$var$comCount","setAttribute","remove","onclick","doc","uid","get","fav","favn","favl","liked","likedn","likedl","ifav","indexOf","iliked","npop","nlik","nfav","splice","cTitle","update","name","e","onfocus","num","i","length","appendChild","$648e0fd9af943e45184fd26814d8faa8$var$createCom","comDat","cont","createElement","head","usr","a","href","rprt","btnRprt","drpRprt","aux","concat","bod","p","foot","btns","btn","rep","rHd","rusr","ra","rrprt","rbtnRprt","rdrpRprt","raux","rbod","rp","cookiesFSRef","exists","coms","comCount"],"version":3,"file":"cookie.js.map"}