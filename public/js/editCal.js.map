{"mappings":"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","sources":["src/js/editCal.js"],"sourcesContent":["var store = firebase.storage();\nvar rtDb = firebase.database();\n\nlet docDat, docId, docRef, calConfig;\nlet lastSave = Date.now(), saved = false;\n\nlet newMedia = null;\nlet newMedSrc = null;\n\nlet eventToShow = null;\n\nasync function translateSimple(text, from, target) {\n    let translate = firebase.app().functions('us-east1').httpsCallable('translations-translateSimple');\n    let res = await translate({\n        text: text,\n        from: from,\n        target: target\n    });\n    return res.data;\n}\n\nconst daysOfWeek = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat']\nconst longDay = {\n    es: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sabado'],\n    en: ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday']\n}\nfunction fullMonth(n, l) {\n    if (l == \"es\") {\n        switch (n) {\n            case 1:\n                return \"Enero\";\n            case 2:\n                return \"Febrero\";\n            case 3:\n                return \"Marzo\";\n            case 4:\n                return \"Abril\";\n            case 5:\n                return \"Mayo\";\n            case 6:\n                return \"Junio\";\n            case 7:\n                return \"Julio\";\n            case 8:\n                return \"Agosto\";\n            case 9:\n                return \"Septiembre\";\n            case 10:\n                return \"Octubre\";\n            case 11:\n                return \"Noviembre\";\n            case 12:\n                return \"Diciembre\";\n            case 0:\n                return \"Diciembre\";\n            case 13:\n                return \"Enero\";\n        }\n    } else if (l == \"en\") {\n        switch (n) {\n            case 1:\n                return \"January\";\n            case 2:\n                return \"February\";\n            case 3:\n                return \"March\";\n            case 4:\n                return \"April\";\n            case 5:\n                return \"May\";\n            case 6:\n                return \"June\";\n            case 7:\n                return \"July\";\n            case 8:\n                return \"August\";\n            case 9:\n                return \"September\";\n            case 10:\n                return \"October\";\n            case 11:\n                return \"November\";\n            case 12:\n                return \"December\";\n            case 0:\n                return \"December\";\n            case 13:\n                return \"January\";\n        }\n    }\n}\n\nwindow.loaded = function loaded() {\n    db.collection('config').doc('calTypes').get().then(doc => {\n        calConfig = doc.data();\n        docRef = calendarsFSRef.doc(urlSrch.get('id'));\n        calendarsFSRef.doc(urlSrch.get('id')).onSnapshot(doc => {\n            if (!doc.exists) {\n                window.location.href = '../404';\n                return;\n            }\n            docDat = doc.data();\n            docId = doc.id;\n            document.getElementById('title').innerHTML = docDat.title;\n            document.getElementById('prevMed').src = docDat.picUrl;\n            document.getElementById('inPicCapt').value = docDat.picCapt;\n            document.getElementById('inPicAlt').value = docDat.picAlt;\n            document.getElementById('inDesc').value = docDat.description;\n            document.getElementById('inDescShort').value = docDat.descriptionShort;\n            render();\n            if (docDat.public) {\n                hideEl(document.getElementById('btnAprove'));\n                hideEl(document.getElementById('btnPub'));\n            } else {\n                showEl(document.getElementById('btnAprove'));\n                if (docDat.pastDue) showEl(document.getElementById('btnPub'));\n            }\n            if (docDat.revised.includes(uid)) {\n                document.getElementById('btnAprove').innerHTML = '<i class=\"fas fa-check-square\"></i>';\n            } else {\n                document.getElementById('btnAprove').innerHTML = '<i class=\"far fa-check-square\"></i>';\n            }\n            document.getElementById('btnPrevCal').href = docDat.url;\n            document.getElementById('btnPrevMail').href = '/vista-email-calendario/' + docId;\n            document.getElementById('btnSrcCal').href = `https://in-the-sky.org/newscal.php?month=${urlSrch.get('id').substr(5, 6)}&year=${urlSrch.get('id').substr(0, 4)}&maxdiff=7&country=1484&reg1=3527646&reg2=8379372&town=3530597`;\n            document.getElementById('btnSrcCal2').href = `https://in-the-sky.org/newscal.php?month=${urlSrch.get('id').substr(5, 6)}&year=${urlSrch.get('id').substr(0, 4)}&maxdiff=7&country=1170&reg1=3688685&reg2=9609540&town=3688689`;\n            document.getElementById('btnSrcCal3').href = `https://in-the-sky.org/newscal.php?month=${urlSrch.get('id').substr(5, 6)}&year=${urlSrch.get('id').substr(0, 4)}&maxdiff=7&country=1724&reg1=3117732&reg2=6355233&town=3117735`;\n        }, err => console.log(err))\n    }).catch(err => console.log(err));\n\n    function descFrm() {\n        docDat.description = document.getElementById('inDesc').value.trim();\n        docDat.descriptionShort = document.getElementById('inDescShort').value.trim();\n        normSave();\n    }\n    document.getElementById(\"frmText\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        descFrm();\n    });\n    document.getElementById('btnFileTrans').onclick = function () {\n        let ori = document.getElementById('selFileTrans').value\n        db.collection('calendars/langs/' + ori).doc(docId).get().then(async function (doc) {\n            docDat.picCapt = document.getElementById('inPicCapt').value = await translateSimple(doc.data().picCapt, ori, lang);\n            docDat.picAlt = document.getElementById('inPicAlt').value = await translateSimple(doc.data().picAlt, ori, lang);\n            docDat.description = document.getElementById('inDesc').value = await translateSimple(doc.data().description, ori, lang);\n            docDat.descriptionShort = document.getElementById('inDescShort').value = await translateSimple(doc.data().descriptionShort, ori, lang);\n            descFrm();\n        }).catch(err => console.log(err));\n    }\n\n    function addMed() {\n        let ref = store.ref('calendarMedia/' + docId + '/pic');\n        ref.put(newMedia).on('state_changed',\n            function progress(snap) {\n                setprog(document.getElementById('barChgImg'), (snap.bytesTransferred / snap.totalBytes) * 100);\n            },\n            function error(err) {\n                if (lang == \"es\") {\n                    alertTop(\"<strong>¡Ha ocurrido un error!</strong> \" + err.code, 0);\n                } else if (lang == \"en\") {\n                    alertTop(\"<strong>¡There has been an error!</strong> \" + err.code, 0);\n                }\n                console.log(err);\n                $('#mdlAddMed').modal('hide');\n            },\n            function complete() {\n                ref.getDownloadURL().then(medUrl => {\n                    docDat.picUrl = medUrl;\n                    normSave();\n                    resetChgImg(true);\n                    hideEl(document.getElementById(\"frmChgImg\"));\n                }).catch(err => { console.log(err) });\n            }\n        );\n    }\n    function addExtMed() {\n        docDat.picUrl = document.getElementById('inChgImgUrl').value;\n        normSave();\n        resetChgImg(true);\n        hideEl(document.getElementById(\"frmChgImg\"));\n    }\n    document.getElementById(\"frmChgImg\").addEventListener(\"submit\", function (event) {\n        event.preventDefault();\n        setprog(document.getElementById('barChgImg'), 0);\n        showEl(document.getElementById(\"barChgImgCont\"));\n        hideEl(document.getElementById(\"frmChgImg\"));\n        document.getElementById(\"btnCnfChgImg\").setAttribute('disabled', 'true');\n        document.getElementById(\"btnCanChgImg\").setAttribute('disabled', 'true');\n        if (newMedSrc == \"home\") addMed();\n        else addExtMed();\n    });\n}\n\ndocument.getElementById('inPicCapt').oninput = () => {\n    docDat.picCapt = document.getElementById('inPicCapt').value.trim();\n}\ndocument.getElementById('inPicAlt').oninput = () => {\n    docDat.picAlt = document.getElementById('inPicAlt').value.trim();\n}\ndocument.getElementById('inDesc').oninput = () => {\n    docDat.picDesc = document.getElementById('inDesc').value.trim();\n}\ndocument.getElementById('inDescShort').oninput = () => {\n    docDat.picDescShort = document.getElementById('inDescShort').value.trim();\n}\n\nlet savedInterval;\nfunction saveDoc() {\n    console.log('Saving...');\n\n    const promises = [];\n    langs.forEach(l => {\n        if (l != lang) {\n            let syncUpt = {\n                published: docDat.published,\n                finished: docDat.finished,\n                pastDue: docDat.pastDue,\n                public: docDat.public,\n                sentMail: docDat.sentMail,\n                revised: docDat.revised,\n                translations: docDat.translations,\n            }\n            syncUpt.translations[lang] = docDat.url;\n            promises.push(db.collection('calendars/langs/' + l).doc(docId).update(syncUpt));\n        }\n    })\n    return Promise.all(promises).then(() => {\n        return docRef.update(docDat);\n    });\n}\nfunction normSave() {\n    saveDoc().then(() => {\n        if (eventToShow) showEvent();//IMPORTANT\n        if (saved) clearInterval(savedInterval);\n        saved = true;\n        savedInterval = setInterval(() => {\n            let minutes = Math.floor((Date.now() - lastSave) / 60000);\n            if (minutes < 60) document.getElementById('tagLstSave').innerText = \"Guardado hace \" + minutes + \" minutos\";\n            else document.getElementById('tagLstSave').innerText = \"Guardado hace \" + Math.floor(minutes / 60) + \" horas\";\n        }, 300010);\n        document.getElementById('tagLstSave').innerText = \"Se han guardado los cambios\";\n        lastSave = Date.now();\n        console.log('Saved!');\n    }).catch(err => {\n        document.getElementById('tagLstSave').innerText = \"Error, no se han guardado todos los cambios: \" + err.code;\n        console.log(err);\n    });\n}\n\nfunction setprog(bar, n) {\n    n = Math.floor(n);\n    bar.setAttribute('aria-valuenow', n);\n    bar.style.width = n + '%';\n    bar.innerText = n + '%';\n}\n\nfunction showEvent() {\n    Object.keys(docDat.events).forEach(key => {\n        hideEl(document.getElementById(key));\n    });\n    document.getElementById('mdlEventInfoL').innerHTML = docDat.events[eventToShow].date[lang];\n    showEl(document.getElementById(eventToShow));\n    enable(document.getElementById('btnPriorEve'));\n    enable(document.getElementById('btnNextEve'));\n}\ndocument.getElementById('btnPriorEve').onclick = () => {\n    let orderedKeys = Object.keys(docDat.events).slice().sort((a, b) => {\n        if (Number(a[0]) == Number(b[0])) {\n            if (a.substring(1, 4) == b.substring(1, 4)) {\n                return Number(a[4]) - Number(b[4]);\n            }\n            switch (a.substring(1, 4)) {\n                case \"sun\":\n                    return -1;\n                case \"mon\":\n                    if (b.substring(1, 4) == \"sun\") return 1;\n                    return -1;\n                case \"tue\":\n                    if (b.substring(1, 4) == \"sun\" || b.substring(1, 4) == \"mon\") return 1\n                    return -1;\n                case \"wed\":\n                    if (b.substring(1, 4) == \"sun\" || b.substring(1, 4) == \"mon\" || b.substring(1, 4) == \"tue\") return 1\n                    return -1;\n                case \"thu\":\n                    if (b.substring(1, 4) == \"sun\" || b.substring(1, 4) == \"mon\" || b.substring(1, 4) == \"tue\" || b.substring(1, 4) == \"wed\") return 1\n                    return -1;\n                case \"fri\":\n                    if (b.substring(1, 4) == \"sun\" || b.substring(1, 4) == \"mon\" || b.substring(1, 4) == \"tue\" || b.substring(1, 4) == \"wed\" || b.substring(1, 4) == \"thu\") return 1\n                    return -1;\n                case \"sat\":\n                    return 1;\n            }\n        }\n        return Number(a[0]) - Number(b[0]);\n    });\n    let n = orderedKeys.indexOf(eventToShow) - 1;\n    if (n >= 0) {\n        eventToShow = orderedKeys[n];\n        showEvent();\n    } else {\n        disable(document.getElementById('btnPriorEve'));\n    }\n};\ndocument.getElementById('btnNextEve').onclick = () => {\n    let orderedKeys = Object.keys(docDat.events).slice().sort((a, b) => {\n        if (Number(a[0]) == Number(b[0])) {\n            if (a.substring(1, 4) == b.substring(1, 4)) {\n                return Number(a[4]) - Number(b[4]);\n            }\n            switch (a.substring(1, 4)) {\n                case \"sun\":\n                    return -1;\n                case \"mon\":\n                    if (b.substring(1, 4) == \"sun\") return 1;\n                    return -1;\n                case \"tue\":\n                    if (b.substring(1, 4) == \"sun\" || b.substring(1, 4) == \"mon\") return 1\n                    return -1;\n                case \"wed\":\n                    if (b.substring(1, 4) == \"sun\" || b.substring(1, 4) == \"mon\" || b.substring(1, 4) == \"tue\") return 1\n                    return -1;\n                case \"thu\":\n                    if (b.substring(1, 4) == \"sun\" || b.substring(1, 4) == \"mon\" || b.substring(1, 4) == \"tue\" || b.substring(1, 4) == \"wed\") return 1\n                    return -1;\n                case \"fri\":\n                    if (b.substring(1, 4) == \"sun\" || b.substring(1, 4) == \"mon\" || b.substring(1, 4) == \"tue\" || b.substring(1, 4) == \"wed\" || b.substring(1, 4) == \"thu\") return 1\n                    return -1;\n                case \"sat\":\n                    return 1;\n            }\n        }\n        return Number(a[0]) - Number(b[0]);\n    });\n    let n = orderedKeys.indexOf(eventToShow) + 1;\n    if (n < orderedKeys.length) {\n        eventToShow = orderedKeys[n];\n        showEvent();\n    } else {\n        disable(document.getElementById('btnNextEve'));\n    }\n};\n\nfunction render() {\n    document.getElementById('weeksCont').innerHTML = \"\";\n    docDat.weeks.forEach((week, wIdx) => {\n        let weekRow = document.createElement('tr');\n        weekRow.style.height = '10rem';\n        document.getElementById('weeksCont').appendChild(weekRow);\n        for (let i = 0; i < 7; i++) {\n            let day = week[daysOfWeek[i]]\n            let dayCell = document.createElement('td');\n            classes(dayCell, \"p-0\");\n            weekRow.appendChild(dayCell);\n            if (day) {\n                let num = document.createElement('p');\n                classes(num, \"m-0 p-1\");\n                num.style.fontSize = 'x-large';\n                num.innerHTML = '<b>' + day.date + '</b>';\n                dayCell.appendChild(num);\n\n                let events = document.createElement('div');\n                classes(events, \"autoOverflow\");\n                events.style.maxHeight = '7rem';\n                day.events.forEach((event, idx) => {\n                    let btnEvent = document.createElement('button');\n                    btnEvent.setAttribute(\"data-toggle\", \"modal\");\n                    btnEvent.setAttribute(\"data-target\", \"#mdlEventInfo\");\n                    classes(btnEvent, \"btn text-left p-1 mb-1 w-100\");\n                    btnEvent.style.backgroundColor = \"#c3e6cb\";\n                    btnEvent.style.borderColor = \"#8fd19e\";\n                    btnEvent.innerHTML = '<small>' + event.name + '</small>';\n                    btnEvent.onclick = () => {\n                        eventToShow = wIdx + daysOfWeek[i] + idx;\n                        showEvent();\n                    }\n                    events.appendChild(btnEvent);\n                });\n                let btnPlusEvent = document.createElement('button');\n                classes(btnPlusEvent, \"btn btn-scckie btn-block btn-sm\");\n                btnPlusEvent.innerHTML = '<i class=\"fas fa-plus\"></i>';\n                btnPlusEvent.onclick = () => {\n                    docDat.events[wIdx + daysOfWeek[i] + day.events.length] = {\n                        date: {\n                            es: longDay[\"es\"][i] + \" \" + day.date + \" de \" + fullMonth(docId % 100, lang),\n                            en: longDay[\"en\"][i] + \", \" + fullMonth(docId % 100, \"en\") + \" \" + day.date\n                        },\n                        typeIdx: 0,\n                        vals: {\n                            0: { label: \"Título\", val: \"Evento sin nombre\" },\n                            1: { label: \"Description\", val: \"Sin descripción\" },\n                        },\n                        name: \"Evento sin nombre\",\n                        description: \"Sin descripción\",\n                        visibilidad: calConfig.visOpts[lang][0],\n                        horario: [\"Ciudad de México:\", \"Bogotá:\", \"Madrid:\"]\n                    };\n                    day.events.push({\n                        name: \"Evento sin nombre\"\n                    });\n                    normSave();\n                }\n                events.appendChild(btnPlusEvent);\n                dayCell.appendChild(events);\n            }\n        }\n    });\n    document.getElementById('eventInfoCont').innerHTML = \"\";\n    for (const [key, event] of Object.entries(docDat.events)) {\n        let changed = false;\n\n        //@#Migration\n        if (event.typeIdx == undefined) {\n            event.typeIdx = 0;\n            event.vals = {\n                0: { label: \"Título\", val: event.name },\n                1: { label: \"Description\", val: event.description },\n            }\n            regenTxt();\n            changed = true;\n        }\n        if (typeof event.date != \"object\") {\n            event.date = {\n                es: longDay[\"es\"][daysOfWeek.indexOf(key.substring(1, 4))] + \" \" + docDat.weeks[parseInt(key.charAt(0))][key.substring(1, 4)].date + \" de \" + fullMonth(docId % 100, lang),\n                en: longDay[\"en\"][daysOfWeek.indexOf(key.substring(1, 4))] + \", \" + fullMonth(docId % 100, \"en\") + \" \" + docDat.weeks[parseInt(key.charAt(0))][key.substring(1, 4)].date\n            }\n            changed = true;\n        }\n        //End migration\n\n        let form = document.createElement('div');\n        form.id = key;\n        classes(form, \"d-none overflow-auto\");\n        let bod = document.createElement('div');\n        classes(bod, \"modal-body\");\n        form.appendChild(bod);\n\n        let fsec = document.createElement('div');\n        classes(fsec, \"d-none\");\n        bod.appendChild(fsec);\n        let fgType = document.createElement('div');\n        classes(fgType, \"form-group\");\n        fsec.appendChild(fgType);\n\n        let selTypeMainL = document.createElement('label');\n        if (lang == \"es\") {\n            selTypeMainL.innerText = \"Tipo de evento\";\n        } else if (lang == \"en\") {\n            selTypeMainL.innerText = \"Event type\";\n        }\n        fgType.appendChild(selTypeMainL);\n        let selTypeMain = document.createElement('select');\n        classes(selTypeMain, \"form-control\");\n        selTypeMain.setAttribute('multiple', 'true');\n        calConfig[lang].forEach((itm, idx) => {\n            let opt = document.createElement('option');\n            opt.value = idx;\n            opt.innerText = itm.label;\n            if ((!event.typeIdx && idx == 0) || idx == event.typeIdx) opt.setAttribute('selected', 'true');\n            selTypeMain.appendChild(opt);\n        });\n        selTypeMain.oninput = () => {\n            changed = true;\n            event.typeIdx = parseInt(selTypeMain.value);\n            if (!event.typeIdx) event.typeIdx = 0;\n            event.vals = {};\n            reloadForm();\n        }\n        fgType.appendChild(selTypeMain);\n\n        let inTitleHid = document.createElement('input');\n        inTitleHid.setAttribute(\"type\", \"text\");\n        inTitleHid.id = \"inEveTitle\" + key;\n        let inDescHid = document.createElement('textarea');\n        inDescHid.id = \"inEveDesc\" + key;\n\n        let fRow = document.createElement('div');\n        classes(fRow, \"form-row\");\n        fsec.insertBefore(fRow, fgType.nextSibling);\n        function reloadForm() {\n            fRow.innerHTML = \"\";\n            calConfig[lang][event.typeIdx].options.forEach((option, idx) => {\n                let fCol = document.createElement('div');\n                classes(fCol, \"col-auto form-group\");\n                let label = document.createElement('label');\n                label.innerText = option.label;\n                fCol.appendChild(label);\n                let inp;\n                switch (option.type) {\n                    case \"select\":\n                        inp = document.createElement('select');\n                        option.options.forEach((itm, i) => {\n                            let opt = document.createElement('option');\n                            opt.value = itm.val;\n                            opt.innerHTML = itm.label;\n                            if ((i == 0 && (!event.vals || !event.vals[idx])) || (event.vals && event.vals[idx] && event.vals[idx].val == itm.val)) {\n                                opt.selected = true;\n                                event.vals[idx] = {\n                                    label: itm.label,\n                                    val: itm.val,\n                                }\n                            }\n                            inp.appendChild(opt);\n                        });\n                        break;\n                    case \"textarea\":\n                        inp = document.createElement('textarea');\n                        inp.setAttribute(\"rows\", \"3\");\n                        if (event.vals[idx] && event.vals[idx].val) inp.value = event.vals[idx].val;\n                        break;\n                    default:\n                        inp = document.createElement('input');\n                        inp.setAttribute(\"type\", option.type);\n                        if (event.vals[idx] && event.vals[idx].val) inp.value = event.vals[idx].val;\n                }\n                if (option.placeholder) inp.placeholder = option.placeholder;\n                classes(inp, \"form-control form-control-sm\");\n                fCol.appendChild(inp);\n                fRow.appendChild(fCol);\n\n                let sfRow = document.createElement('div');\n                classes(sfRow, \"form-row d-none\");\n                fsec.insertBefore(sfRow, fRow.nextSibling);\n                if (option.valForSub) {\n                    option.sub.forEach((soption, sidx) => {\n                        let sfCol = document.createElement('div');\n                        classes(sfCol, \"col-auto form-group\");\n                        let slabel = document.createElement('label');\n                        slabel.innerText = soption.label;\n                        sfCol.appendChild(slabel);\n                        let sinp;\n                        switch (soption.type) {\n                            case \"select\":\n                                sinp = document.createElement('select');\n                                soption.options.forEach((itm, i) => {\n                                    let opt = document.createElement('option');\n                                    opt.value = itm.val;\n                                    opt.innerHTML = itm.label;\n                                    if ((i == 0 && (!event.vals || !event.vals[idx + '-' + sidx])) || (event.vals && event.vals[idx + '-' + sidx] && event.vals[idx + '-' + sidx].val == itm.val)) {\n                                        opt.selected = true;\n                                        event.vals[idx + '-' + sidx] = {\n                                            label: itm.label,\n                                            val: itm.val,\n                                        }\n                                    }\n                                    sinp.appendChild(opt);\n                                });\n                                break;\n                            case \"textarea\":\n                                sinp = document.createElement('textarea');\n                                sinp.setAttribute(\"rows\", \"3\");\n                                if (event.vals[idx + '-' + sidx] && event.vals[idx + '-' + sidx].val) sinp.value = event.vals[idx + '-' + sidx].val;\n                                break;\n                            default:\n                                sinp = document.createElement('input');\n                                sinp.setAttribute(\"type\", soption.type);\n                                if (event.vals[idx + '-' + sidx] && event.vals[idx + '-' + sidx].val) sinp.value = event.vals[idx + '-' + sidx].val;\n                        }\n                        if (soption.placeholder) sinp.placeholder = soption.placeholder;\n                        classes(sinp, \"form-control form-control-sm\");\n                        sfCol.appendChild(sinp);\n                        sfRow.appendChild(sfCol);\n\n                        sinp.oninput = function () {\n                            changed = true;\n                            event.vals[idx + '-' + sidx] = {};\n                            event.vals[idx + '-' + sidx].val = sinp.value;\n                            if (option.type == \"select\") event.vals[idx + '-' + sidx].label = sinp.innerText;\n                            else event.vals[idx + '-' + sidx].label = soption.label;\n                            regenTxt();\n                        }\n                    });\n                }\n\n                inp.oninput = function () {\n                    changed = true;\n                    event.vals[idx] = {};\n                    event.vals[idx].val = inp.value;\n                    if (option.type == \"select\") event.vals[idx].label = inp.innerText;\n                    else event.vals[idx].label = option.label;\n                    if (option.valForSub) {\n                        if (option.valForSub == inp.value) showEl(sfRow);\n                        else hideEl(sfRow);\n                    }\n                    regenTxt();\n                }\n            });\n        }\n        reloadForm();\n\n        function regenTxt() {\n            if (calConfig[lang][event.typeIdx].multipleTxt) {\n                event.description = parseInt(event.vals[\"0\"].val.charAt(0));\n                event.name = parseInt(event.vals[\"0\"].val.charAt(1));\n            } else {\n                event.description = event.name = 0;\n            }\n            event.description = calConfig[lang][event.typeIdx].text[event.description];\n            event.name = calConfig[lang][event.typeIdx].titleTxt[event.name];\n            for (const [vKey, vVal] of Object.entries(event.vals)) {\n                event.description = event.description.replaceAll(\"$\" + vKey + \"L$\", vVal.label);\n                event.description = event.description.replaceAll(\"$\" + vKey + \"$\", vVal.val);\n                event.description = event.description.replaceAll(\"$g-year$\", Math.floor(docId / 100));\n                event.name = event.name.replaceAll(\"$\" + vKey + \"L$\", vVal.label);\n                event.name = event.name.replaceAll(\"$\" + vKey + \"$\", vVal.val);\n                event.name = event.name.replaceAll(\"$g-year$\", Math.floor(docId / 100));\n            }\n        }\n        regenTxt();\n\n        let fgVis = document.createElement('div');\n        classes(fgVis, \"form-group\");\n        fsec.appendChild(fgVis);\n        fgVis.innerHTML = '<label>Visiblidad</label>';\n        let inVis = document.createElement('select');\n        inVis.id = \"inVis\" + key;\n        classes(inVis, \"form-control\");\n        calConfig.visOpts[lang].forEach((itm, idx) => {\n            let opt = document.createElement('option');\n            opt.value = idx;\n            opt.innerHTML = itm;\n            if (itm == event.visibilidad) opt.setAttribute('selected', \"true\");\n            inVis.appendChild(opt);\n        });\n        fgVis.appendChild(inVis);\n\n        let fgTime = document.createElement('div');\n        classes(fgTime, \"form-group\");\n        fsec.appendChild(fgTime);\n        fgTime.innerHTML = '<label>Horario</label>';\n        let inTime = document.createElement('textarea');\n        classes(inTime, \"form-control\");\n        inTime.id = \"inTime\" + key;\n        inTime.setAttribute(\"rows\", \"4\");\n        fgTime.appendChild(inTime);\n        if (inVis.value == 5) hideEl(fgTime);\n        else showEl(fgTime);\n\n        inVis.oninput = () => {\n            changed = true;\n            if (inVis.value == 5) hideEl(fgTime);\n            else showEl(fgTime);\n        };\n        inTime.oninput = () => {\n            changed = true;\n        };\n\n        //Must be declared here\n        let saveBtn = document.createElement('button');\n\n        let selLangCC = document.createElement('div');\n        classes(selLangCC, \"row\");\n        let selLangC = document.createElement('div');\n        classes(selLangC, \"col-auto\");\n        selLangCC.appendChild(selLangC);\n        let selLang = document.createElement('select');\n        classes(selLang, \"form-control ml-auto h-100\");\n        selLang.setAttribute(\"name\", \"selTransLang\");\n        selLangC.appendChild(selLang);\n        let btnTrans = document.createElement('button');\n        classes(btnTrans, 'btn btn-scckie mx-2');\n        btnTrans.innerHTML = '<i class=\"fas fa-language\"></i>';\n        btnTrans.onclick = function () {\n            db.collection('calendars/langs/' + selLang.value).doc(docId).get().then(async function (doc) {\n                let newEve = doc.data().events[key];\n                if (!newEve) return;\n                event.typeIdx = newEve.typeIdx;\n                event.vals = newEve.vals;\n                for (let i = 0; i < calConfig[lang][event.typeIdx].options.length; i++) {\n                    const option = calConfig[lang][event.typeIdx].options[i];\n                    if (option.type == \"select\") {\n                        event.vals[i] = option.options[\n                            calConfig[selLang.value][event.typeIdx].options[i].options\n                                .map(function (e) {\n                                    return e.val;\n                                })\n                                .indexOf(event.vals[i].val)\n                        ];\n                    } else {\n                        if (option.translatable) {\n                            event.vals[i].val = await translateSimple(event.vals[i].val, selLang.value, lang)\n                        }\n                        event.vals[i].label = option.label;\n                    }\n                    if (event.vals[\"0\"].val == event.valForSub) {\n                        for (let j = 0; j < calConfig[lang][event.typeIdx].options[i].sub.length; j++) {\n                            const opt = calConfig[lang][event.typeIdx].options[i].sub[j];\n                            if (opt.type == \"select\") {\n                                event.vals[i + \"-\" + j] = option.options[\n                                    calConfig[selLang.value][event.typeIdx].options[i].options\n                                        .map(function (e) {\n                                            return e.val;\n                                        })\n                                        .indexOf(event.vals[i + \"-\" + j].val)\n                                ];\n                            } else {\n                                if (opt.translatable) {\n                                    event.vals[i + \"-\" + j].val = await translateSimple(event.vals[i + \"-\" + j].val, selLang.value, lang)\n                                }\n                                event.vals[i + \"-\" + j].label = opt.label;\n                            }\n                        }\n                    }\n                }\n                event.visibilidad = calConfig.visOpts[lang][calConfig.visOpts[selLang.value].indexOf(newEve.visibilidad)];\n                event.horario = [];\n                console.log(event.horario);\n                for (let i = 0; i < newEve.horario.length; i++) {\n                    event.horario.push(await translateSimple(newEve.horario[i], selLang.value, lang));\n                }\n                inTime.innerHTML = \"\";\n                event.horario.forEach(time => {\n                    inTime.innerHTML += time + \"\\n\";\n                });\n                changed = true;\n                saveBtn.click();\n            }).catch(err => console.log(err));\n        }\n        selLangCC.appendChild(btnTrans);\n        fsec.appendChild(selLangCC);\n\n        let tsec = document.createElement('div');\n        bod.appendChild(tsec);\n        let eveTit = document.createElement('h3');\n        eveTit.innerHTML = event.name;\n        tsec.appendChild(eveTit);\n        let eveDesc = document.createElement('p');\n        eveDesc.innerHTML = event.description;\n        tsec.appendChild(eveDesc);\n        let eveVis = document.createElement('p');\n        eveVis.innerHTML = \"Visibilidad: \" + event.visibilidad;\n        tsec.appendChild(eveVis);\n        let eveTime = document.createElement('p');\n        classes(eveTime, \"mb-0\");\n        eveTime.innerHTML = \"Horario: \";\n        tsec.appendChild(eveTime);\n        let eveTimeLst = document.createElement('ul');\n        tsec.appendChild(eveTimeLst);\n        event.horario.forEach(time => {\n            let li = document.createElement('li');\n            li.innerHTML = time;\n            eveTimeLst.appendChild(li);\n        });\n        if (event.visibilidad == calConfig.visOpts[lang][5]) {\n            hideEl(eveTime);\n            hideEl(eveTimeLst);\n        }\n        else {\n            showEl(eveTime);\n            showEl(eveTimeLst);\n        }\n\n\n        let foot = document.createElement('div');\n        classes(foot, \"modal-footer\");\n        form.appendChild(foot);\n\n        let delBtn = document.createElement('button');\n        classes(delBtn, \"btn btn-danger mr-auto\")\n        delBtn.setAttribute(\"type\", \"button\");\n        delBtn.innerText = \"Borrar\";\n        delBtn.onclick = () => {\n            for (let i = Number(key.substr(4)) + 1; i < docDat.weeks[Number(key[0])][key.substr(1, 3)].events.length; i++) {\n                docDat.events[key.substr(0, 4) + (i - 1)] = docDat.events[key.substr(0, 4) + i]\n            }\n            delete docDat.events[key.substr(0, 4) + (docDat.weeks[Number(key[0])][key.substr(1, 3)].events.length - 1)];\n            docDat.weeks[Number(key[0])][key.substr(1, 3)].events.splice(Number(key.substr(4)), 1);\n            $('#mdlEventInfo').modal('hide');\n            eventToShow = null;\n            normSave();\n        };\n        foot.appendChild(delBtn);\n        let editBtn = document.createElement('button');\n        classes(editBtn, \"btn btn-info\");\n        editBtn.setAttribute(\"type\", \"button\");\n        editBtn.innerText = \"Editar\";\n        editBtn.onclick = () => {\n            inVis.value = calConfig.visOpts[lang].indexOf(event.visibilidad);\n            if (inVis.value == 5) hideEl(fgTime);\n            else showEl(fgTime);\n            inTime.innerHTML = \"\";\n            event.horario.forEach(time => {\n                inTime.innerHTML += time + \"\\n\";\n            });\n            hideEl(tsec);\n            showEl(fsec);\n            showEl(saveBtn);\n            enable(saveBtn);\n            hideEl(editBtn);\n        };\n        foot.appendChild(editBtn);\n        //Declared before\n        classes(saveBtn, \"btn btn-scckie d-none\");\n        saveBtn.setAttribute(\"type\", \"button\");\n        disable(saveBtn);\n        saveBtn.innerText = \"Guardar\";\n        saveBtn.onclick = () => {\n            disable(saveBtn);\n            if (changed) {\n                regenTxt();\n                docDat.weeks[Number(key[0])][key.substr(1, 3)].events[key[4]].name = event.name;\n                event.visibilidad = calConfig.visOpts[lang][inVis.value];\n                event.horario = [];\n                inTime.value.trim().split('\\n').forEach(time => {\n                    if (time != \"\" && time != \" \") event.horario.push(time);\n                });\n                normSave();\n            }\n            hideEl(fsec);\n            showEl(tsec);\n            hideEl(saveBtn);\n            showEl(editBtn);\n        };\n        foot.appendChild(saveBtn);\n\n        document.getElementById('eventInfoCont').appendChild(form);\n    }\n\n    document.getElementsByName('selTransLang').forEach(itm => {\n        itm.innerHTML = '';\n    });\n    langs.forEach((l, i) => {\n        if (l != lang) {\n            let opt = document.createElement('option');\n            if (i == 0) {\n                opt.setAttribute('selected', 'true');\n            }\n            opt.value = opt.innerText = l;\n            document.getElementsByName('selTransLang').forEach(itm => {\n                itm.appendChild(opt.cloneNode(true));\n            });\n        }\n    });\n}\n\n\nfunction resetChgImg(uncheck) {\n    document.getElementById('prevMed').src = docDat.picUrl;\n    if (uncheck) {\n        document.getElementById('inMedSrc0').checked = false;\n        document.getElementById('inMedSrc1').checked = false;\n    }\n    document.getElementById('inChgImg').value = \"\";\n    document.getElementById('inChgImgUrl').value = \"\";\n    document.getElementById('inChgImg').removeAttribute('required');\n    document.getElementById('inChgImgUrl').removeAttribute('required');\n    hideEl(document.getElementById(\"barChgImgCont\"));\n    hideEl(document.getElementById(\"inChgImgFileCont\"));\n    hideEl(document.getElementById(\"inChgImgUrlCont\"));\n    document.getElementById(\"btnCnfChgImg\").removeAttribute('disabled');\n    document.getElementById(\"btnCanChgImg\").removeAttribute('disabled');\n}\ndocument.getElementById('btnChgImg').onclick = () => {\n    resetChgImg(true);\n    toggleEl(document.getElementById(\"frmChgImg\"));\n};\ndocument.getElementById('inChgImg').addEventListener('change', e => {\n    newMedia = e.target.files[0];\n    function prevMed() {\n        var read = new FileReader();\n        read.readAsDataURL(newMedia);\n        read.onload = function (e2) {\n            document.getElementById(\"prevMed\").src = e2.target.result;\n        };\n    };\n    newMedia.name = ultraClean(newMedia.name, '');\n    document.getElementById('inChgImgL').innerHTML = newMedia.name;\n    prevMed(newMedia);\n});\ndocument.getElementById('inChgImgUrl').onchange = function () {\n    document.getElementById(\"prevMed\").src = document.getElementById('inChgImgUrl').value;\n};\ndocument.getElementById('inMedSrc0').onclick = function () {\n    newMedSrc = \"home\";\n    resetChgImg(false);\n    document.getElementById('inChgImg').setAttribute('required', 'true');\n    showEl(document.getElementById(\"inChgImgFileCont\"));\n}\ndocument.getElementById('inMedSrc1').onclick = function () {\n    newMedSrc = \"out\";\n    resetChgImg(false);\n    document.getElementById('inChgImgUrl').setAttribute('required', 'true');\n    showEl(document.getElementById(\"inChgImgUrlCont\"));\n}\n\ndocument.getElementById('btnPrevCal').onclick = function () {\n    docDat.timePrev = new firebase.firestore.Timestamp.fromMillis((new Date(Date.now())).getTime() + 900000);\n    normSave();\n};\ndocument.getElementById('btnPrevMail').onclick = function () {\n    docDat.timePrev = new firebase.firestore.Timestamp.fromMillis((new Date(Date.now())).getTime() + 900000);\n    normSave();\n};\n\nfunction validateRevision() {\n    let revLangs = 0;\n    langs.forEach(l => {\n        let rev = docDat.revised[l] ? docDat.revised[l].length : 0;\n        if (docDat.revised[l] && !docDat.revised[l].includes(uid)) rev++;\n        if (rev >= 2) revLangs++;\n    });\n    return revLangs == langs.length;\n}\n\ndocument.getElementById('btnAprove').onclick = function () {\n    if (docDat.revised[lang] && docDat.revised[lang].includes(uid)) {\n        docDat.revised[lang].splice(docDat.revised[lang].indexOf(uid), 1);\n        document.getElementById('btnAprove').innerHTML = '<i class=\"far fa-check-square\"></i>';\n    } else {\n        if (!docDat.revised[lang]) docDat.revised[lang] = [];\n        docDat.revised[lang].push(uid);\n        document.getElementById('btnAprove').innerHTML = '<i class=\"fas fa-check-square\"></i>';\n    }\n    if (validateRevision()) {\n        docDat.finished = true;\n        newCal();\n    } else {\n        docDat.finished = false;\n    }\n    normSave();\n};\n\nfunction newCal() {\n    let nextCalID;\n    rtDb.ref('nextCal').transaction(nCal => {\n        if (nCal) {\n            nextCalID = nCal;\n            nCal++;\n            if (nCal % 100 == 13) {\n                nCal -= 12;\n                nCal += 100;\n            }\n        }\n        return nCal;\n    }, (error) => {\n        if (error) {\n            console.log(error);\n        } else {\n            let date = new Date((nextCalID - nextCalID % 100) / 100 + ' ' + nextCalID % 100 + ' ' + '00:00');\n            let weeks = [];\n            let days;\n            if (date.getMonth() == 1) {\n                if (date.getFullYear() % 4 == 0) {\n                    days = 29;\n                } else {\n                    days = 28;\n                }\n            } else if (date.getMonth() % 2 == 0) {\n                if (date.getMonth() <= 6) days = 31;\n                else days = 30;\n            } else {\n                if (date.getMonth() <= 6) days = 30;\n                else days = 31;\n            }\n            let bDay = date.getDay();\n            for (let i = 1; i <= days; i = i) {\n                let week = {};\n                for (let j = bDay; j < daysOfWeek.length; j++) {\n                    if (i > days) break;\n                    week[daysOfWeek[j]] = {\n                        date: i,\n                        events: []\n                    }\n                    i++;\n                }\n                weeks.push(week);\n                bDay = 0;\n            }\n            const promises = [];\n            langs.forEach(l => {\n                let newC = {\n                    events: {},\n                    published: firebase.firestore.Timestamp.fromDate(date),\n                    description: \"\",\n                    descriptionShort: \"\",\n                    finished: false,\n                    pastDue: false,\n                    picUrl: \"\",\n                    picAlt: \"\",\n                    picCapt: \"\",\n                    public: false,\n                    sentMail: false,\n                    revised: {},\n                    title: \"\",\n                    url: \"\",\n                    nextCal: \"\",\n                    priorCal: \"\",\n                    weeks: weeks,\n                    translations: {}\n                }\n\n                let intId = parseInt(nextCalID);\n                let year = (intId - intId % 100) / 100;\n                let nYear = (intId - intId % 100) / 100;\n                let pYear = (intId - intId % 100) / 100;\n                if (intId % 100 == 12) nYear++;\n                if (intId % 100 == 1) pYear--;\n                let month = fullMonth(intId % 100, l);\n                let nMonth = fullMonth(intId % 100 + 1, l).toLowerCase();\n                let pMonth = fullMonth(intId % 100 - 1, l).toLowerCase();\n                let calsText = \"\";\n                switch (l) {\n                    case \"es\":\n                        calsText = \"calendario-astronomico\";\n                        newC.title = \"Calendario Astronómico de \" + month + \" \" + year;\n                        break;\n                    case \"en\":\n                        calsText = \"astronomic-calendar\";\n                        newC.title = \"Astronomic Calendar of \" + month + \" \" + year;\n                        break;\n                }\n                newC.url = \"https://sciencecookies.net/\" + calsText + \"/\" + year + \"/\" + month.toLowerCase() + \"/\";\n                newC.nextCal = \"https://sciencecookies.net/\" + calsText + \"/\" + nYear + \"/\" + nMonth + \"/\";\n                newC.priorCal = \"https://sciencecookies.net/\" + calsText + \"/\" + pYear + \"/\" + pMonth + \"/\";\n\n                promises.push(db.collection('calendars/langs/' + l).doc(Math.abs(nextCalID).toString()).set(newC));\n\n            })\n            return Promise.all(promises).then(() => {\n                console.log('exito');\n            }).catch(err => console.log(err));\n        }\n    });\n}\n\n$('#mdlPublish').on('show.bs.modal', e => {\n    if (validateRevision()) {\n        showEl(document.getElementById('btnCnfPublish'));\n        document.getElementById('mdlPublishTxt').innerText = \"El calendario está listo para publicar\";\n    } else {\n        hideEl(document.getElementById('btnCnfPublish'));\n        document.getElementById('mdlPublishTxt').innerText = \"Para publicar es necesario que lo hayan aprovado al menos dos personas.\";\n    }\n});\n\ndocument.getElementById('btnCnfPublish').onclick = function () {\n    if (docDat.public) return;\n    setprog(document.getElementById('barPublish'), 0);\n    showEl(document.getElementById('barPublishCont'));\n\n    docDat.public = true;\n    setprog(document.getElementById('barPublish'), 25);\n\n    saveDoc().then(() => {\n        setprog(document.getElementById('barPublish'), 58);\n        admin.database().ref('calendarios/' + docId).set({\n            pop: 0\n        }, err => {\n            if (err) {\n                if (lang == \"es\") {\n                    alertTop(\"<strong>¡Ha ocurrido un error!</strong> \" + err.code, 0);\n                } else if (lang == \"en\") {\n                    alertTop(\"<strong>¡There has been an error!</strong> \" + err.code, 0);\n                }\n                console.log(err);\n            } else {\n                setprog(document.getElementById('barPublish'), 100);\n                classes(document.getElementById('barPublish'), 'bg-success');\n                if (lang == \"es\") {\n                    alertTop(\"Publicado correctamente\", 1);\n                } else if (lang == \"en\") {\n                    alertTop(\"Published successfully\", 1);\n                }\n                setTimeout(function () {\n                    window.open(docDat.url, '_blank').focus();\n                }, 2500);\n                $('#mdlPublish').modal('hide');\n                console.log('Published ' + docId + ' calendar');\n                return null;\n            }\n        });\n    }).catch(err => {\n        if (lang == \"es\") {\n            alertTop(\"<strong>¡Ha ocurrido un error!</strong> \" + err.code, 0);\n        } else if (lang == \"en\") {\n            alertTop(\"<strong>¡There has been an error!</strong> \" + err.code, 0);\n        }\n        console.log(err);\n    });\n};"],"names":["$a15b832e2152a95d3323ba3c2a34be40$var$store","firebase","storage","$a15b832e2152a95d3323ba3c2a34be40$var$rtDb","database","$a15b832e2152a95d3323ba3c2a34be40$var$docDat","$a15b832e2152a95d3323ba3c2a34be40$var$docId","$a15b832e2152a95d3323ba3c2a34be40$var$docRef","$a15b832e2152a95d3323ba3c2a34be40$var$calConfig","$a15b832e2152a95d3323ba3c2a34be40$var$lastSave","Date","now","$a15b832e2152a95d3323ba3c2a34be40$var$saved","$a15b832e2152a95d3323ba3c2a34be40$var$newMedia","$a15b832e2152a95d3323ba3c2a34be40$var$newMedSrc","$a15b832e2152a95d3323ba3c2a34be40$var$eventToShow","$a15b832e2152a95d3323ba3c2a34be40$var$translateSimple","text","from","target","translate","app","functions","httpsCallable","data","$a15b832e2152a95d3323ba3c2a34be40$var$daysOfWeek","$a15b832e2152a95d3323ba3c2a34be40$var$longDay","$a15b832e2152a95d3323ba3c2a34be40$var$fullMonth","n","l","$a15b832e2152a95d3323ba3c2a34be40$var$savedInterval","$a15b832e2152a95d3323ba3c2a34be40$var$saveDoc","console","log","promises","langs","forEach","lang","syncUpt","published","finished","pastDue","public","sentMail","revised","translations","url","push","db","collection","doc","update","Promise","all","then","$a15b832e2152a95d3323ba3c2a34be40$var$normSave","$a15b832e2152a95d3323ba3c2a34be40$var$showEvent","clearInterval","setInterval","minutes","Math","floor","document","getElementById","innerText","catch","err","code","$a15b832e2152a95d3323ba3c2a34be40$var$setprog","bar","setAttribute","style","width","Object","keys","events","key","hideEl","innerHTML","date","showEl","enable","$a15b832e2152a95d3323ba3c2a34be40$var$resetChgImg","uncheck","src","picUrl","checked","value","removeAttribute","$a15b832e2152a95d3323ba3c2a34be40$var$validateRevision","revLangs","rev","length","includes","uid","window","loaded","descFrm","description","trim","descriptionShort","get","calendarsFSRef","urlSrch","onSnapshot","doc1","exists","id","title","picCapt","picAlt","weeks","week","wIdx","weekRow","createElement","height","appendChild","i","day","dayCell","classes","num","fontSize","maxHeight","event","idx","btnEvent","backgroundColor","borderColor","name","onclick","btnPlusEvent","es","en","typeIdx","vals","0","label","val","1","visibilidad","visOpts","horario","entries","changed","undefined","regenTxt","indexOf","substring","parseInt","charAt","form","bod","fsec","fgType","selTypeMainL","selTypeMain","itm","opt","oninput","reloadForm","inTitleHid","fRow","options","option","fCol","inp","type","selected","placeholder","sfRow","insertBefore","nextSibling","valForSub","sub","soption","sidx","sfCol","sinp","slabel","multipleTxt","titleTxt","vKey","vVal","replaceAll","fgVis","inVis","fgTime","inTime","saveBtn","selLangCC","selLangC","selLang","btnTrans","async","newEve","map","e","translatable","j","i1","time","click","tsec","eveTit","eveDesc","eveVis","eveTime","eveTimeLst","li","foot","delBtn","Number","substr","splice","$","modal","editBtn","disable","split","getElementsByName","cloneNode","$a15b832e2152a95d3323ba3c2a34be40$var$render","href","location","addEventListener","preventDefault","ori","ref","put","on","snap","bytesTransferred","totalBytes","alertTop","getDownloadURL","medUrl","addMed","picDesc","picDescShort","orderedKeys","slice","sort","a","b","toggleEl","read","files","ultraClean","FileReader","readAsDataURL","onload","e2","result","onchange","timePrev","firestore","Timestamp","fromMillis","getTime","nextCalID","transaction","nCal","error","days","getMonth","getFullYear","bDay","getDay","newC","fromDate","nextCal","priorCal","intId","year","nYear","pYear","month","nMonth","toLowerCase","pMonth","calsText","abs","toString","set","$a15b832e2152a95d3323ba3c2a34be40$var$newCal","admin","pop","setTimeout","open","focus"],"version":3,"file":"editCal.js.map"}