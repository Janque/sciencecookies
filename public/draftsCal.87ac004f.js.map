{"version":3,"sources":["js/draftsCal.js"],"names":["window","loaded","initSrch","previewLim","nxtp","paglast","page","allChk","stAf","undefined","srchRef","calendarsFSRef","orderBy","startAfter","limit","shwSrch","document","getElementById","innerHTML","get","then","snap","docs","forEach","doc","idx","dat","data","col","createElement","classes","card","public","h","row","col0","badge","innerText","appendChild","col1","drp","btndrp","setAttribute","onclick","id","classList","contains","$","dropdown","setTimeout","drpmenu","drpitm0","lang","location","href","drpitm1","open","focus","drpitm2","url","noImgTxt","a","img","src","picUrl","alt","cbody","title","description","push","length","splice","remove","removeAttribute","catch","err","console","log","reSrch","np","scrollIntoView"],"mappings":"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","file":"draftsCal.87ac004f.js","sourceRoot":"../src","sourcesContent":["window.loaded = function loaded() {\n    initSrch(false);\n}\n\nconst previewLim = 21;\n//Get search params\nvar nxtp = false, paglast = [null], page = 1;\nvar allChk = false;\nfunction initSrch(stAf) {\n    if (page > 1 && stAf && paglast[page - 1] != null && paglast[page - 1] != undefined) {\n        srchRef = calendarsFSRef.orderBy('published', 'desc').startAfter(paglast[page - 1]).limit(previewLim);\n    } else {\n        srchRef = calendarsFSRef.orderBy('published', 'desc').limit(previewLim);\n    }\n    shwSrch();\n}\nfunction shwSrch() {\n    document.getElementById('crdContainer').innerHTML = \"\";\n    srchRef.get().then(snap => {\n        let docs = snap.docs;\n        nxtp = false;\n        docs.forEach((doc, idx) => {\n            let dat = doc.data();\n\n            let col = document.createElement('col');\n            classes(col, 'col');\n            classes(col, 'mb-4');\n\n            let card = document.createElement('div');\n            classes(card, \"card text-dark bg-light h-100 cardBorder\");\n            if (dat.public) {\n                classes(card, 'border-success');\n            } else {\n                classes(card, 'border-secondary');\n            }\n\n            let h = document.createElement('div');\n            classes(h, \"card-header bg-light m-0 py-0 text-right\")\n            let row = document.createElement('div');\n            classes(row, 'row');\n            classes(row, 'justify-content-between');\n            if (!dat.public) {\n                let col0 = document.createElement('div');\n                classes(col0, 'col-auto');\n                classes(col0, 'p-0');\n                let badge = document.createElement('span');\n                classes(badge, 'badge');\n                classes(badge, 'badge-warning');\n                badge.innerText = 'Pendiente';\n                col0.appendChild(badge);\n                row.appendChild(col0);\n            }\n            let col1 = document.createElement('div');\n            classes(col1, 'col-auto');\n            classes(col1, 'p-0');\n            classes(col1, 'ml-auto');\n            let drp = document.createElement('div');\n            classes(drp, 'dropdown');\n            let btndrp = document.createElement('button');\n            classes(btndrp, 'btn');\n            classes(btndrp, 'btn-light');\n            btndrp.setAttribute('type', 'button');\n            btndrp.setAttribute('data-toogle', 'dropdown');\n            btndrp.setAttribute('aria-haspopup', \"true\");\n            btndrp.setAttribute('aria-expanded', \"false\");\n            btndrp.innerHTML = '<i class=\"fas fa-ellipsis-h\"></i>';\n            btndrp.onclick = function () {\n                if (document.getElementById(\"drpMenu\" + doc.id).classList.contains('show')) {\n                    $(\"#drpMenu\" + doc.id).dropdown('hide');\n                } else {\n                    $(\"#drpMenu\" + doc.id).dropdown('show');\n                    setTimeout(function () {\n                        $(\"#drpMenu\" + doc.id).dropdown('hide');\n                    }, 5000);\n                }\n            };\n            drp.appendChild(btndrp);\n            let drpmenu = document.createElement('div');\n            classes(drpmenu, 'dropdown-menu');\n            classes(drpmenu, 'dropdown-menu-right');\n            drpmenu.setAttribute('id', \"drpMenu\" + doc.id);\n            let drpitm0 = document.createElement('button');\n            classes(drpitm0, 'dropdown-item');\n            drpitm0.onclick = function () {\n                if (lang = \"es\") {\n                    window.location.href = '../editar-calendario?id=' + doc.id;\n                } else if (lang = \"en\") {\n                    window.location.href = '../edit-calendar?id=' + doc.id;\n                }\n            };\n            drpitm0.innerHTML = 'Editar <i class=\"fas fa-edit\"></i>';\n            drpmenu.appendChild(drpitm0);\n            let drpitm1 = document.createElement('button');\n            classes(drpitm1, 'dropdown-item');\n            drpitm1.onclick = function () {\n                window.open('../vista-email-calendario/' + doc.id, '_blank').focus();\n            };\n            drpitm1.innerHTML = 'Vista correo <i class=\"fas fa-envelope\"></i>';\n            drpmenu.appendChild(drpitm1);\n            let drpitm2 = document.createElement('button');\n            if (dat.public) {\n                classes(drpitm2, 'dropdown-item');\n                drpitm2.onclick = function () {\n                    window.open(dat.url, '_blank').focus();\n                };\n                drpitm2.innerHTML = 'Ver calendario <i class=\"fas fa-eye\"></i>';\n                drpmenu.appendChild(drpitm2);\n            }\n            drp.appendChild(drpmenu);\n            col1.appendChild(drp);\n            row.appendChild(col1);\n            h.appendChild(row);\n            card.appendChild(h);\n\n            let noImgTxt;\n            if (lang = \"es\") {\n                noImgTxt = \"No hay imagen\";\n            } else if (lang = \"en\") {\n                noImgTxt = \"No image\";\n            }\n\n            let a = document.createElement('a');\n            if (lang = \"es\") {\n                a.href = '../editar-calendario?id=' + doc.id;\n            } else if (lang = \"en\") {\n                a.href = '../edit-calendar?id=' + doc.id;\n            }\n            classes(a, 'text-decoration-none');\n            classes(a, 'text-dark');\n            let img = document.createElement('img');\n            img.src = dat.picUrl;\n            classes(img, 'card-img-top');\n            img.alt = noImgTxt;\n            a.appendChild(img);\n            let cbody = document.createElement('div');\n            classes(cbody, 'card-body');\n            cbody.innerHTML = '<h3 class=\"card-title\">' + dat.title + '</h3>\\n<p class=\"card-text\">' + dat.description + '</p>\\n'\n            a.appendChild(cbody);\n            card.appendChild(a);\n\n            col.appendChild(card);\n            document.getElementById('crdContainer').appendChild(col);\n            if (idx == previewLim - 1) {\n                if (paglast[page] == undefined || paglast[page] == null) {\n                    paglast.push(docs[docs.length - 1]);\n                } else if (paglast[page] != docs[docs.length - 1]) {\n                    paglast.splice(page, 1, docs[docs.length - 1]);\n                }\n                nxtp = true;\n                document.getElementById(\"pgNavT\").classList.remove('d-none');\n                document.getElementById(\"pgNavB\").classList.remove('d-none');\n            }\n        });\n        if (!nxtp) {\n            document.getElementById(\"pgTNxt\").setAttribute('disabled', 'true');\n            document.getElementById(\"pgBNxt\").setAttribute('disabled', 'true');\n        } else {\n            document.getElementById(\"pgTNxt\").removeAttribute('disabled');\n            document.getElementById(\"pgBNxt\").removeAttribute('disabled');\n        }\n        if (page == 1) {\n            document.getElementById(\"pgTPrv\").setAttribute('disabled', 'true');\n            document.getElementById(\"pgBPrv\").setAttribute('disabled', 'true');\n        } else {\n            document.getElementById(\"pgTPrv\").removeAttribute('disabled');\n            document.getElementById(\"pgBPrv\").removeAttribute('disabled');\n        }\n    }).catch(err => { console.log(err) });\n}\n\ndocument.getElementById(\"pgTPrv\").onclick = function () { reSrch(-1); };\ndocument.getElementById(\"pgBPrv\").onclick = function () { reSrch(-1); };\ndocument.getElementById(\"pgTNxt\").onclick = function () { reSrch(1); };\ndocument.getElementById(\"pgBNxt\").onclick = function () { reSrch(1); };\nfunction reSrch(np) {\n    if (page < 1 && np == -1) return;\n    if (!nxtp && np == 1) return;\n    page += np;\n    document.getElementById('disPgT').innerText = page;\n    document.getElementById('disPgB').innerText = page;\n    initSrch(true);\n    document.getElementById(\"cookCnt\").scrollIntoView();\n}"]}